{"version":3,"sources":["img/blank.png","img/bg-512.jpg","img/bunker.png","img/coke.png","img/meth.png","img/cash.png","img/weed.png","img/forgery.png","img/nightclub.png","img/import.png","img/wheel.png","img/bg-1024.jpg","img/bg-2048.jpg","redux/popupSlice.js","InfoContext.js","Utility.js","tick.js","redux/userInfoSlice.js","redux/sessionSlice.js","img/index.js","Notification.js","MapIcon.js","redux/locationSlice.js","MapGhostIcon.js","BannerNotification.js","Patchnotes.js","Popup.js","Map.js","TabProgressBar.js","TabBunker.js","TabMCBusiness.js","TabNightclub.js","TabImportExport.js","TabWheel.js","TabFees.js","InfoTabContainer.js","App.js","app/store.js","serviceWorker.js","index.js"],"names":["module","exports","slice","createSlice","name","initialState","reducers","pushPopup","state","action","Array","isArray","payload","push","unshiftPopup","unshift","popPopup","pop","clearStack","length","actions","defaultUserInfo","version","recentWeekly","settings","hide_unowned","push_notifications","audio","enabled","volume","interval","progress_bar_style","app_style","bunker","owned","muted","product","research","supplies","mode","show_all","upgrades","equipment","staff","security","map_position","x","y","coke","meth","cash","weed","forgery","nightclub","cargo","sporting","imports","pharma","creation","organic","copying","producing","storage_floors","importExport","highend_cars","cooldown","wheel","notify_while_paused","timestamp","staticInfo","React","createContext","userInfo","mcbusinesses","fullName","shortName","resources","maxProduct","maxResearch","maxSupplies","maxResearchSupplies","locations","products","maxCargo","maxSporting","maxImports","maxPharma","maxCreation","maxOrganic","maxCopying","accrueCargo","accrueSporting","accrueImports","accruePharma","accrueCreation","accrueOrganic","accrueCopying","shouldUpdate","updateUserInfo","Object","assign","toUpdate","i","business","sidebar","recentFriday","Math","min","hide_research","capitalize","s","charAt","toUpperCase","mod","a","n","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","isInteger","e","key","keyCode","which","String","fromCharCode","test","preventDefault","inRange","element","value","parseFloat","max","isNaN","formatTimeString","ms","maxFigures","hours","floor","minutes","seconds","digits","toLocaleString","undefined","minimumIntegerDigits","lastTickTime","tick","maxSeconds","secondsRun","currentTime","Date","getTime","deltaSec","storage_index","setResourceValue","resource","setWheelTimestamp","setImportExportCooldown","toggleNotifications","setRootObject","toggleBusinessMuted","setUserInfo","runTick","running","banner","lastNotified","general","updateState","toggleRunning","setBanner","setLastNotified","type","toggleUpdateState","business_icons","iconBunker","iconCoke","iconMeth","iconCash","iconWeed","iconForgery","iconNightclub","iconImportExport","iconWheel","notify","list","id","log","msg","console","compatible","Notification","authorize","requestPermission","alert","show","title","body","navigator","serviceWorker","ready","then","registration","showNotification","tag","icon","lang","dir","Audio","process","connect","ownProps","businessInfo","audioEnabled","position","session","props","dispatch","useDispatch","flashState","useSelector","pushEnabled","setState","lastPlayed","playAudioIfNecessary","pause","play","pushNotifyIfNecessary","includes","upgradeIndex","business_name","useNotifyBusiness","mapIcon","muteIcon","src","blank","className","alt","full_name","style","top","left","onClick","Fragment","index","resetLocationSetter","configureLocationSetter","toggleMode","setSelectedIndex","setCoordinates","clearLocationSetter","MapPlaceableIcon","display","clickable","selected","location","stringElementMap","BannerPaused","BannerSelectLocation","scrollTo","behavior","numLocations","currentLocation","newIndex","faArrowLeft","faArrowRight","faCheck","faTimes","faEllipsisV","BannerCustomLocation","xPos","yPos","hint","disabled","arr","bannerContainer","createElement","patchArray","Patchnotes","page","PopupPushDenied","PopupMultipleTabs","PopupNewUser","PopupUpdateAvailable","reload","PopupPatchnotes","data-value","PopupNewWeek","target","rel","href","PopupPaused","PopupSetupMain","workingInfo","setLastPlayed","validateIndividual","persist","classList","contains","parentElement","add","remove","previousState","update","$set","hideUnowned","newValue","permission","pushAllowed","setProgressStyle","parseInt","dataset","setAppStyle","nextSibling","faMinus","onKeyPress","onChange","previousSibling","faPlus","now","step","round","file","Blob","JSON","stringify","document","documentMode","msSaveOrOpenBlob","URL","createObjectURL","download","click","getElementById","reader","FileReader","files","split","onload","parse","result","readAsText","accept","marginRight","valid","querySelectorAll","input","validateAll","PopupResetEverything","PopupModifyNightclub","decrementor","incrementor","vehicleRequired","storageFloors","totalProduct","PopupSetupBunker","xPosition","yPosition","toggleOwned","toggleUpgrade","upgrade","setMode","toggleShowing","newState","oldUpgradeIndex","newUpgradeIndex","oldMax","newMax","PopupSetupMCBusiness","setBusiness","PopupSetupNightclub","toggleProducing","PopupSetupImportExport","PopupSetupWheel","toggleNotify","popupStack","fragment","previousPopup","previousRef","useRef","current","MapSetLocation","container","placing","setPlacing","bottom","offsetHeight","right","offsetWidth","limits","setLimits","togglePlacing","placeIcon","getPosition","xAllowed","clientX","yAllowed","clientY","updatePosition","iconArray","MapRegular","memo","mapDetails","optionsSection","toggleButton","handleRunning","popupElement","mapImage512","srcSet","mapImage1024","mapImage2048","draggable","TabProgressBar","newProps","currentResource","barStyle","progressBarOverlay","computePortion","maxOfType","percentage","remainingMilliseconds","portion","factor","calculateMsRemaining","label","showAll","disableSetup","content","bars","faCog","TabNightclub","product_objects","keys","map","highendCars","sellString","disableSell","newCars","toSell","options","selectedIndex","text","newTime","spinString","disableSpin","sessionString","finish","setFinish","realFinish","business_objects","containerRef","onWidthChanged","inactiveDiv","ref","createRef","scrollWidth","clientWidth","accomodateScrollbar","detector","border","appendChild","contentWindow","removeChild","appStyle","setInterval","localStorage","openPages","pageAvailable","bodyElement","store","configureStore","reducer","userInfoReducer","popupReducer","sessionReducer","locationReducer","middleware","getDefaultMiddleware","concat","next","newUserInfo","getState","setItem","getItem","getUTCDay","getUTCHours","setUTCDate","getUTCDate","setUTCHours","findRecentWeekly","toUTCString","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","origin","fetch","headers","response","contentType","get","status","indexOf","unregister","checkValidServiceWorker","waiting","postMessage"],"mappings":"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","file":"static/js/main.5b7aa548.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/blank.cc6c3b1a.png\";","module.exports = __webpack_public_path__ + \"static/media/bg-512.20970123.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bunker.33c1b682.png\";","module.exports = __webpack_public_path__ + \"static/media/coke.4c62c747.png\";","module.exports = __webpack_public_path__ + \"static/media/meth.c6ae9d8a.png\";","module.exports = __webpack_public_path__ + \"static/media/cash.f614bc8a.png\";","module.exports = __webpack_public_path__ + \"static/media/weed.9d54898c.png\";","module.exports = __webpack_public_path__ + \"static/media/forgery.b96d36fd.png\";","module.exports = __webpack_public_path__ + \"static/media/nightclub.87425e7e.png\";","module.exports = __webpack_public_path__ + \"static/media/import.a68515e9.png\";","module.exports = __webpack_public_path__ + \"static/media/wheel.fbdff46b.png\";","module.exports = __webpack_public_path__ + \"static/media/bg-1024.bbcf4c12.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg-2048.95559e28.jpg\";","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const slice = createSlice({\r\n  name: 'popupStack',\r\n  initialState: [],\r\n  reducers: {\r\n    // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n    // doesn't actually mutate the state because it uses the immer library,\r\n    // which detects changes to a \"draft state\" and produces a brand new\r\n    // immutable state based off those changes\r\n    // func_vehicle: Can reassign state by returning new state\r\n    pushPopup: (state, action) => {\r\n      if (!Array.isArray(action.payload)) {\r\n        action.payload = [action.payload, {}];\r\n      }\r\n      state.push(action.payload);\r\n    },\r\n    unshiftPopup: (state, action) => {\r\n      if (!Array.isArray(action.payload)) {\r\n        action.payload = [action.payload, {}];\r\n      }\r\n      state.unshift(action.payload);\r\n    },\r\n    popPopup: (state) => {\r\n      state.pop();\r\n    },\r\n    clearStack: (state) => {\r\n      state.length = 0\r\n    },\r\n  },\r\n});\r\n\r\nexport const { pushPopup, unshiftPopup, popPopup, clearStack } = slice.actions;\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched\r\n\r\n// export const incrementAsync = amount => dispatch => {\r\n//   setTimeout(() => {\r\n//     dispatch(incrementByAmount(amount));\r\n//   }, 1000);\r\n// };\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\r\n\r\n//export const selectCount = state => state.counter.value;\r\n\r\nexport default slice.reducer;\r\n","import React from 'react';\r\n\r\nexport let defaultUserInfo = {\r\n\tversion: \"2.0.1\",\r\n\trecentWeekly: 0,\r\n\tsettings: {\r\n\t\thide_unowned: false,\r\n\t\tpush_notifications: false,\r\n\t\taudio: {\r\n\t\t\tenabled: true,\r\n\t\t\tvolume: 1,\r\n\t\t\tinterval: 3,\r\n\t\t},\r\n\t\tprogress_bar_style: 1,\r\n\t\tapp_style: 0,\r\n\t},\r\n\tbunker: {\r\n\t\towned: false,\r\n\t\tmuted: false,\r\n\t\tproduct: 0,\r\n\t\tresearch: 0,\r\n\t\tsupplies: 0,\r\n\t\tmode: 0,\r\n\t\tshow_all: true,\r\n\t\tupgrades: {\r\n\t\t\tequipment: true,\r\n\t\t\tstaff: true,\r\n\t\t\tsecurity: true,\r\n\t\t},\r\n\t\tmap_position: {\r\n\t\t\tx: 58.47,\r\n\t\t\ty: 49.49,\r\n\t\t},\r\n\t},\r\n\tcoke: {\r\n\t\towned: false,\r\n\t\tmuted: true,\r\n\t\tproduct: 0,\r\n\t\tsupplies: 0,\r\n\t\tupgrades: {\r\n\t\t\tequipment: true,\r\n\t\t\tstaff: true,\r\n\t\t\tsecurity: true,\r\n\t\t},\r\n\t\tmap_position: {\r\n\t\t\tx: 48.94,\r\n\t\t\ty: 38.73,\r\n\t\t},\r\n\t},\r\n\tmeth: {\r\n\t\towned: false,\r\n\t\tmuted: false,\r\n\t\tproduct: 0,\r\n\t\tsupplies: 0,\r\n\t\tupgrades: {\r\n\t\t\tequipment: true,\r\n\t\t\tstaff: true,\r\n\t\t\tsecurity: true,\r\n\t\t},\r\n\t\tmap_position: {\r\n\t\t\tx: 47.40,\r\n\t\t\ty: 47.62,\r\n\t\t},\r\n\t},\r\n\tcash: {\r\n\t\towned: false,\r\n\t\tmuted: false,\r\n\t\tproduct: 0,\r\n\t\tsupplies: 0,\r\n\t\tupgrades: {\r\n\t\t\tequipment: true,\r\n\t\t\tstaff: true,\r\n\t\t\tsecurity: true,\r\n\t\t},\r\n\t\tmap_position: {\r\n\t\t\tx: 50.92,\r\n\t\t\ty: 45.00,\r\n\t\t},\r\n\t},\r\n\tweed: {\r\n\t\towned: false,\r\n\t\tmuted: false,\r\n\t\tproduct: 0,\r\n\t\tsupplies: 0,\r\n\t\tupgrades: {\r\n\t\t\tequipment: true,\r\n\t\t\tstaff: true,\r\n\t\t\tsecurity: true,\r\n\t\t},\r\n\t\tmap_position: {\r\n\t\t\tx: 68.87,\r\n\t\t\ty: 31.02,\r\n\t\t},\r\n\t},\r\n\tforgery: {\r\n\t\towned: false,\r\n\t\tmuted: false,\r\n\t\tproduct: 0,\r\n\t\tsupplies: 0,\r\n\t\tupgrades: {\r\n\t\t\tequipment: true,\r\n\t\t\tstaff: true,\r\n\t\t\tsecurity: true,\r\n\t\t},\r\n\t\tmap_position: {\r\n\t\t\tx: 59.28,\r\n\t\t\ty: 28.46,\r\n\t\t},\r\n\t},\r\n\tnightclub: {\r\n\t\towned: false,\r\n\t\tmuted: false,\r\n\t\tshow_all: true,\r\n\t\tcargo: 0,\r\n\t\tsporting: 0,\r\n\t\timports: 0,\r\n\t\tpharma: 0,\r\n\t\tcreation: 0,\r\n\t\torganic: 0,\r\n\t\tcopying: 0,\r\n\t\tproducing: {\r\n\t\t\tcargo: false,\r\n\t\t\tsporting: false,\r\n\t\t\timports: false,\r\n\t\t\tpharma: false,\r\n\t\t\tcreation: false,\r\n\t\t\torganic: false,\r\n\t\t\tcopying: false,\r\n\t\t},\r\n\t\tupgrades: {\r\n\t\t\tequipment: true,\r\n\t\t\tstaff: true,\r\n\t\t\tsecurity: true,\r\n\t\t},\r\n\t\tstorage_floors: 5,\r\n\t\tmap_position: {\r\n\t\t\tx: 36.30,\r\n\t\t\ty: 76.79,\r\n\t\t},\r\n\t},\r\n\timportExport: {\r\n\t\towned: false,\r\n\t\thighend_cars: 0,\r\n\t\tcooldown: 0,\r\n\t\tmap_position: {\r\n\t\t\tx: 53.86,\r\n\t\t\ty: 82.30,\r\n\t\t},\r\n\t},\r\n\twheel: {\r\n\t\towned: true,\r\n\t\tmuted: false,\r\n\t\tnotify_while_paused: false, \r\n\t\ttimestamp: 0,\r\n\t\tmap_position: {\r\n\t\t\tx: 53.89,\r\n\t\t\ty: 66.46,\r\n\t\t},\r\n\t},\r\n};\r\n\r\nexport const InfoContext = React.createContext({\r\n\tuserInfo: defaultUserInfo,\r\n});\r\n\r\nexport const staticInfo = {\r\n\tmcbusinesses: [\"coke\", \"meth\", \"cash\", \"weed\", \"forgery\"],\r\n\tbunker: {\r\n\t\tfullName: \"Bunker\",\r\n\t\tshortName: \"Bunker\",\r\n\t\tupgrades: [\"equipment\", \"staff\", \"security\"],\r\n\t\tresources: [\"product\", \"research\", \"supplies\"],\r\n\t\tmaxProduct: [1000, 850, 700],\r\n\t\tmaxResearch: [500, 340, 210],\r\n\t\tmaxSupplies: [100, 127.5, 140],\r\n\t\tmaxResearchSupplies: [250, 300, 350],\r\n\t\tlocations: [\r\n\t\t\t{\r\n\t\t\t\tname: \"Paleto Forest\",\r\n\t\t\t\tx: 39.23,\r\n\t\t\t\ty: 19.51,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Raton Canyon\",\r\n\t\t\t\tx: 42.75,\r\n\t\t\t\ty: 32.41,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Lago Zancudo\",\r\n\t\t\t\tx: 21.43,\r\n\t\t\t\ty: 40.72,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Chumash\",\r\n\t\t\t\tx: 20.36,\r\n\t\t\t\ty: 55.97,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Grapeseed\",\r\n\t\t\t\tx: 60.02,\r\n\t\t\t\ty: 29.64,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Route 68\",\r\n\t\t\t\tx: 45.31,\r\n\t\t\t\ty: 43.71,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Grand Senora Oilfields\",\r\n\t\t\t\tx: 49.79,\r\n\t\t\t\ty: 43.28,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Grand Senora Desert\",\r\n\t\t\t\tx: 52.99,\r\n\t\t\t\ty: 43.07,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Smoke Tree Road\",\r\n\t\t\t\tx: 62.90,\r\n\t\t\t\ty: 40.30,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Thomson Scrapyard\",\r\n\t\t\t\tx: 65.99,\r\n\t\t\t\ty: 41.68,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Farmhouse\",\r\n\t\t\t\tx: 58.47,\r\n\t\t\t\ty: 49.49,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tcoke: {\r\n\t\tfullName: \"Cocaine\",\r\n\t\tshortName: \"Cocaine\",\r\n\t\tupgrades: [\"equipment\", \"staff\", \"security\"],\r\n\t\tresources: [\"product\", \"supplies\"],\r\n\t\tmaxProduct: [500, 400, 300],\r\n\t\tmaxSupplies: [100, 120, 120],\r\n\t\tlocations: [\r\n\t\t\t{\r\n\t\t\t\tname: \"Morningwood\",\r\n\t\t\t\tx: 33.37,\r\n\t\t\t\ty: 70.90,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Elysian Island\",\r\n\t\t\t\tx: 43.82,\r\n\t\t\t\ty: 87.95,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Paleto Bay\",\r\n\t\t\t\tx: 46.27,\r\n\t\t\t\ty: 14.82,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Alamo Sea\",\r\n\t\t\t\tx: 48.94,\r\n\t\t\t\ty: 38.73,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tmeth: {\r\n\t\tfullName: \"Meth\",\r\n\t\tshortName: \"Meth\",\r\n\t\tupgrades: [\"equipment\", \"staff\", \"security\"],\r\n\t\tresources: [\"product\", \"supplies\"],\r\n\t\tmaxProduct: [600, 480, 360],\r\n\t\tmaxSupplies: [120, 144, 144],\r\n\t\tlocations: [\r\n\t\t\t{\r\n\t\t\t\tname: \"El Burro Heights\",\r\n\t\t\t\tx: 57.57,\r\n\t\t\t\ty: 80.70,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Terminal\",\r\n\t\t\t\tx: 55.65,\r\n\t\t\t\ty: 92.43,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Paleto Bay\",\r\n\t\t\t\tx: 46.70,\r\n\t\t\t\ty: 16.10,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Grand Senora Desert\",\r\n\t\t\t\tx: 47.40,\r\n\t\t\t\ty: 47.62,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tcash: {\r\n\t\tfullName: \"Counterfeit Cash\",\r\n\t\tshortName: \"Counterfeit Cash\",\r\n\t\tupgrades: [\"equipment\", \"staff\", \"security\"],\r\n\t\tresources: [\"product\", \"supplies\"],\r\n\t\tmaxProduct: [480, 400, 320],\r\n\t\tmaxSupplies: [120, 150, 160],\r\n\t\tlocations: [\r\n\t\t\t{\r\n\t\t\t\tname: \"Vespucci Canals\",\r\n\t\t\t\tx: 36.46,\r\n\t\t\t\ty: 79.10,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Cypress Flats\",\r\n\t\t\t\tx: 51.17,\r\n\t\t\t\ty: 89.66,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Paleto Bay\",\r\n\t\t\t\tx: 42.22,\r\n\t\t\t\ty: 18.12,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Grand Senora Desert\",\r\n\t\t\t\tx: 50.92,\r\n\t\t\t\ty: 45.00,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tweed: {\r\n\t\tfullName: \"Weed\",\r\n\t\tshortName: \"Weed\",\r\n\t\tupgrades: [\"equipment\", \"staff\", \"security\"],\r\n\t\tresources: [\"product\", \"supplies\"],\r\n\t\tmaxProduct: [480, 400, 320],\r\n\t\tmaxSupplies: [150, 187.5, 200],\r\n\t\tlocations: [\r\n\t\t\t{\r\n\t\t\t\tname: \"Downtown Vinewood\",\r\n\t\t\t\tx: 46.59,\r\n\t\t\t\ty: 65.78,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Elysian Island\",\r\n\t\t\t\tx: 47.23,\r\n\t\t\t\ty: 87.10,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Mount Chilliad\",\r\n\t\t\t\tx: 49.25,\r\n\t\t\t\ty: 14.71,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"San Chianski Mountain Range\",\r\n\t\t\t\tx: 68.87,\r\n\t\t\t\ty: 31.02,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tforgery: {\r\n\t\tfullName: \"Document Forgery\",\r\n\t\tshortName: \"Doc. Forgery\",\r\n\t\tupgrades: [\"equipment\", \"staff\", \"security\"],\r\n\t\tresources: [\"product\", \"supplies\"],\r\n\t\tmaxProduct: [300, 240, 180],\r\n\t\tmaxSupplies: [125, 150, 150],\r\n\t\tlocations: [\r\n\t\t\t{\r\n\t\t\t\tname: \"Textile City\",\r\n\t\t\t\tx: 47.87,\r\n\t\t\t\ty: 73.56,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Elysian Island\",\r\n\t\t\t\tx: 43.18,\r\n\t\t\t\ty: 89.77,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Paleto Bay\",\r\n\t\t\t\tx: 44.24,\r\n\t\t\t\ty: 16.84,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Grapeseed\",\r\n\t\t\t\tx: 59.28,\r\n\t\t\t\ty: 28.46,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tnightclub: {\r\n\t\tfullName: \"Nightclub\",\r\n\t\tshortName: \"Nightclub\",\r\n\t\tproducts: [\"cargo\", \"sporting\", \"imports\", \"pharma\", \"creation\", \"organic\", \"copying\"],\r\n\t\tupgrades: [\"equipment\", \"staff\", \"security\"],\r\n\t\t// Here max is max capacity of product, accrue is the time per product in minutes\r\n\t\tmaxCargo: [10, 20, 30, 40, 50],\r\n\t\tmaxSporting: [20, 40, 60, 80, 100],\r\n\t\tmaxImports: [2, 4, 6, 8, 10],\r\n\t\tmaxPharma: [4, 8, 12, 16, 20],\r\n\t\tmaxCreation: [8, 16, 24, 32, 40],\r\n\t\tmaxOrganic: [16, 32, 48, 64, 80],\r\n\t\tmaxCopying: [12, 24, 36, 48, 60],\r\n\t\taccrueCargo: [140, 70],\r\n\t\taccrueSporting: [80, 40],\r\n\t\taccrueImports: [240, 120],\r\n\t\taccruePharma: [120, 60],\r\n\t\taccrueCreation: [60, 30],\r\n\t\taccrueOrganic: [40, 20],\r\n\t\taccrueCopying: [30, 15],\r\n\t\tlocations: [\r\n\t\t\t{\r\n\t\t\t\tname: \"West Vinewood\",\r\n\t\t\t\tx: 46.27,\r\n\t\t\t\ty: 65.88,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Downtown Vinewood\",\r\n\t\t\t\tx: 48.72,\r\n\t\t\t\ty: 65.57,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Del Perro\",\r\n\t\t\t\tx: 35.93,\r\n\t\t\t\ty: 72.92,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Strawberry\",\r\n\t\t\t\tx: 44.78,\r\n\t\t\t\ty: 78.04,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"La Mesa\",\r\n\t\t\t\tx: 51.92,\r\n\t\t\t\ty: 78.14,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Mission Row\",\r\n\t\t\t\tx: 48.51,\r\n\t\t\t\ty: 75.37,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Cypress Flats\",\r\n\t\t\t\tx: 52.88,\r\n\t\t\t\ty: 84.33,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Vespucci Canals\",\r\n\t\t\t\tx: 36.30,\r\n\t\t\t\ty: 76.79,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"LSIA\",\r\n\t\t\t\tx: 40.30,\r\n\t\t\t\ty: 87.63,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Elysian Island\",\r\n\t\t\t\tx: 47.55,\r\n\t\t\t\ty: 93.07,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\timportExport: {\r\n\t\tfullName: \"Import / Export\",\r\n\t\tshortName: \"Import / Export\",\r\n\t\tlocations: [\r\n\t\t\t{\r\n\t\t\t\tname: \"La Mesa\",\r\n\t\t\t\tx: 53.86,\r\n\t\t\t\ty: 82.30,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"El Burro Heights\",\r\n\t\t\t\tx: 59.91,\r\n\t\t\t\ty: 80.49,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Elysian Island\",\r\n\t\t\t\tx: 47.12,\r\n\t\t\t\ty: 91.58,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"LSIA 1\",\r\n\t\t\t\tx: 36.57,\r\n\t\t\t\ty: 84.65,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"LSIA 2\",\r\n\t\t\t\tx: 41.90,\r\n\t\t\t\ty: 85.07,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Davis\",\r\n\t\t\t\tx: 45.31,\r\n\t\t\t\ty: 81.98,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Cypress Flats\",\r\n\t\t\t\tx: 52.35,\r\n\t\t\t\ty: 85.61,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"La Puerta\",\r\n\t\t\t\tx: 41.15,\r\n\t\t\t\ty: 81.88,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"Murrieta Heights\",\r\n\t\t\t\tx: 55.54,\r\n\t\t\t\ty: 77.51,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\twheel: {\r\n\t\tfullName: \"Lucky Wheel\",\r\n\t\tshortName: \"Lucky Wheel\",\r\n\t}\r\n}\r\n\r\nexport function shouldUpdate(userInfo) {\r\n\treturn userInfo.version !== defaultUserInfo.version;\r\n}\r\n\r\nexport function updateUserInfo(userInfo) {\r\n\tif (userInfo.version === \"1.0.0\") {\r\n\t\tuserInfo.audio = {enabled: true};\r\n\t\tuserInfo.bunker.name = \"Bunker\";\r\n\t\tuserInfo.coke.name = \"Cocaine\";\r\n\t\tuserInfo.meth.name = \"Meth\";\r\n\t\tuserInfo.cash.name = \"Counterfeit Cash\";\r\n\t\tuserInfo.weed = Object.assign({}, defaultUserInfo.weed);  // This is bad, as defaultUserInfo has changed with updates\r\n\t\tuserInfo.forgery = Object.assign({}, defaultUserInfo.forgery);  // Nobody should be on this version though\r\n\t\tuserInfo.nightclub.name = \"Nightclub\";\r\n\t\tuserInfo.importExport.name = \"Import / Export\";\r\n\t\tuserInfo.wheel.name = \"Lucky Wheel\";\r\n\t\tuserInfo.bunker.research /= 60000;\r\n\t\tvar toUpdate = [\"bunker\", \"coke\", \"meth\", \"cash\"];\r\n\t\tfor (var i = 0; i < toUpdate.length; i++) {\r\n\t\t\tvar business = toUpdate[i];\r\n\t\t\tuserInfo[business].product /= 60000;\r\n\t\t\tuserInfo[business].supplies /= 60000;\r\n\t\t}\r\n\t\tuserInfo.version = \"1.1.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.1.0\") {\r\n\t\tuserInfo.settings = Object.assign({}, defaultUserInfo.settings);\r\n\t\tuserInfo.settings.audio.enabled = userInfo.audio.enabled;\r\n\t\tdelete userInfo.audio;\r\n\t\tuserInfo.nightclub.sidebar = true;\r\n\t\tuserInfo.nightclub.organic = 0;\r\n\t\tuserInfo.nightclub.copying = 0;\r\n\t\tuserInfo.nightclub.producing.organic = false;\r\n\t\tuserInfo.nightclub.producing.copying = false;\r\n\t\tuserInfo.version = \"1.2.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.2.0\") {\r\n\t\tuserInfo.settings.progress_bar_style = 0;\r\n\t\tuserInfo.version = \"1.3.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.3.0\") {\r\n\t\tuserInfo.bunker.muted = false;\r\n\t\tuserInfo.coke.muted = false;\r\n\t\tuserInfo.meth.muted = false;\r\n\t\tuserInfo.cash.muted = false;\r\n\t\tuserInfo.weed.muted = false;\r\n\t\tuserInfo.forgery.muted = false;\r\n\t\tuserInfo.nightclub.muted = false;\r\n\t\tuserInfo.wheel.muted = false;\r\n\t\tuserInfo.wheel.owned = true;\r\n\t\tuserInfo.version = \"1.4.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.4.0\") {\r\n\t\tuserInfo.version = \"1.5.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.5.0\") {\r\n\t\tif (userInfo.settings.progress_bar_style === 0) {\r\n\t\t\tuserInfo.settings.progress_bar_style = 1;\r\n\t\t}\r\n\t\tuserInfo.version = \"1.5.3\";\r\n\t}\r\n\tif (userInfo.version === \"1.5.3\") {\r\n\t\tuserInfo.recentFriday = 0;\r\n\t\tuserInfo.settings.push_notifications = false;\r\n\t\tuserInfo.wheel.notify_while_paused = false;\r\n\t\tuserInfo.version = \"1.6.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.6.0\") {\r\n\t\tuserInfo.app_style = 0;  // This is incorrect. Remedied in 2.0.0\r\n\t\tuserInfo.version = \"1.7.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.7.0\") {\r\n\t\tuserInfo.version = \"1.7.1\";\r\n\t}\r\n\tif (userInfo.version === \"1.7.1\") {\r\n\t\tuserInfo.version = \"1.7.2\";\r\n\t}\r\n\tif (userInfo.version === \"1.7.2\") {\r\n\t\tuserInfo.version = \"1.7.3\";\r\n\t}\r\n\tif (userInfo.version === \"1.7.3\") {\r\n\t\tuserInfo.version = \"1.8.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.8.0\") {\r\n\t\tlet toUpdate = [\"bunker\", \"coke\", \"meth\", \"cash\", \"weed\", \"forgery\", \"nightclub\", \"importExport\", \"wheel\"];\r\n\t\tfor (let i = 0; i < toUpdate.length; i++) {\r\n\t\t\tlet business = toUpdate[i];\r\n\t\t\tdelete userInfo[business].name;\r\n\t\t}\r\n\t\tuserInfo.version = \"1.9.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.9.0\") {\r\n\t\tlet toUpdate = [\"bunker\", \"coke\", \"meth\", \"cash\", \"weed\", \"forgery\", \"nightclub\"];\r\n\t\tfor (let i = 0; i < toUpdate.length; i++) {\r\n\t\t\tlet business = toUpdate[i];\r\n\t\t\tuserInfo[business].upgrades = {\r\n\t\t\t\tequipment: true,\r\n\t\t\t\tstaff: true,\r\n\t\t\t\tsecurity: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tuserInfo.nightclub.storage_floors = 5;\r\n\t\tuserInfo.bunker.product = Math.min(userInfo.bunker.product, staticInfo.bunker.maxProduct[2]);\r\n\t\tuserInfo.bunker.supplies = Math.min(userInfo.bunker.supplies, staticInfo.bunker.maxSupplies[2]);\r\n\t\tuserInfo.version = \"1.10.0\";\r\n\t}\r\n\tif (userInfo.version === \"1.10.0\") {\r\n\t\tuserInfo.version = \"1.10.1\";\r\n\t}\r\n\tif (userInfo.version === \"1.10.1\") {\r\n\t\tuserInfo.version = \"1.10.2\";\r\n  }\r\n  if (userInfo.version === \"1.10.2\") {\r\n    if (typeof userInfo.app_style !== \"undefined\") {\r\n      userInfo.settings.app_style = 0;\r\n      delete userInfo.app_style;\r\n    }\r\n    userInfo.version = \"2.0.0\";\r\n  }\r\n  if (userInfo.version === \"2.0.0\") {\r\n\tuserInfo.recentWeekly = userInfo.recentFriday;\r\n\tdelete userInfo.recentFriday;\r\n\tuserInfo.bunker.show_all = !userInfo.bunker.hide_research;\r\n\tdelete userInfo.bunker.hide_research;\r\n\tif (userInfo.bunker.mode === 1) {\r\n\t\tuserInfo.bunker.mode = 0;\r\n\t}\r\n\telse if (userInfo.bunker.mode === 2) {\r\n\t\tuserInfo.bunker.mode = 1;\r\n\t}\r\n\tuserInfo.nightclub.show_all = !userInfo.nightclub.sidebar;\r\n\tdelete userInfo.nightclub.sidebar;\r\n\tuserInfo.version = \"2.0.1\";\r\n  }\r\n  return userInfo;\r\n}","import { useState, useEffect, useRef } from 'react';\r\n\r\nexport const capitalize = function(s) {\r\n  return s.charAt(0).toUpperCase() + s.slice(1);\r\n}\r\n\r\nexport const mod = function(a, n) {\r\n  return ((a % n) + n) % n; \r\n}\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nexport function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n  \r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n  \r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  \r\n  return windowDimensions;\r\n}\r\n\r\nexport function calculateScrollbarWidth(element) {\r\n  if (element != null) {\r\n    return element.offsetWidth - element.clientWidth;\r\n  }\r\n  return 0;\r\n}\r\n\r\n/**\r\n * From https://gist.github.com/curran/0e30c621fe4fc612bf7feb0938a68e4d\r\n * \r\n * A hook to listen for width changes or scroll-bar show/hide.\r\n *\r\n * Arguments:\r\n *  * containerRef - a React ref to the element whose width you want to measure.\r\n *  * onWidthChanged - a function that is invoked when the width changes.\r\n *\r\n * Based on https://gist.github.com/AdamMcCormick/d5f718d2e9569acdf7def25e8266bb2a\r\n */\r\nexport const useWidthDetector = (containerRef, onWidthChanged) => {\r\n  useEffect(() => {\r\n    if (containerRef) {\r\n      const detector = document.createElement('iframe');\r\n      Object.assign(detector.style, {\r\n        height: 0,\r\n        border: 0,\r\n        width: '100%',\r\n        display: 'block',\r\n      });\r\n\r\n      const container = containerRef.current;\r\n      container.appendChild(detector);\r\n\r\n      // Invoke here to capture initial width.\r\n      onWidthChanged();\r\n\r\n      // Detect when width changes hereafter.\r\n      detector.contentWindow.addEventListener('resize', onWidthChanged);\r\n\r\n      return () => {\r\n        detector.contentWindow.removeEventListener('resize', onWidthChanged);\r\n        container.removeChild(detector);\r\n      };\r\n    }\r\n  }, [containerRef, onWidthChanged]);\r\n};\r\n\r\n// DEBUG\r\nexport function useTraceUpdate(props) {\r\n  const prev = useRef(props);\r\n  useEffect(() => {\r\n    const changedProps = Object.entries(props).reduce((ps, [k, v]) => {\r\n      if (prev.current[k] !== v) {\r\n        ps[k] = [prev.current[k], v];\r\n      }\r\n      return ps;\r\n    }, {});\r\n    if (Object.keys(changedProps).length > 0) {\r\n      console.log('Changed props:', changedProps);\r\n    }\r\n    prev.current = props;\r\n  });\r\n}\r\n\r\nexport function isInteger(e) {\r\n  // https://stackoverflow.com/questions/469357/html-text-input-allow-only-numeric-input/469419#469419\r\n  var key = e.keyCode || e.which;\r\n  key = String.fromCharCode(key);\r\n  var regex = /[0-9]/;\r\n  if (!regex.test(key)) {\r\n    e.preventDefault();\r\n  }\r\n}\r\n\r\nexport function inRange(element) {\r\n  // Ensure value is number and in given range \r\n  let value = parseFloat(element.value);\r\n  let min = parseFloat(element.min);\r\n  let max = parseFloat(element.max);\r\n  if (value === \"\" || (!isNaN(value) && min <= value && value <= max)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function formatTimeString(ms, maxFigures) {\r\n  let hours = Math.floor(ms / (1000*60*60));\r\n  let minutes = Math.floor((ms % (1000*60*60)) / (1000*60));\r\n  let seconds = Math.floor((ms % (1000*60)) / 1000);\r\n\r\n  let digits = 1;\r\n  if (typeof maxFigures === 'undefined') {\r\n\t\tmaxFigures = 3;\r\n\t\tdigits = 2;\r\n  }\r\n  \r\n  let s = \"\";\r\n  if (hours > 0 && maxFigures > 0) {\r\n    s += hours.toLocaleString(undefined, {minimumIntegerDigits: digits});\r\n    s += \"H \";\r\n    maxFigures--;\r\n    digits = 2;\r\n  }\r\n  if ((hours > 0 || minutes > 0) && maxFigures > 0) {\r\n    s += minutes.toLocaleString(undefined, {minimumIntegerDigits: digits});\r\n    s += \"M \";\r\n    maxFigures--;\r\n    digits = 2;\r\n  }\r\n  if (maxFigures > 0) {\r\n    s += seconds.toLocaleString(undefined, {minimumIntegerDigits: digits});\r\n    s += \"S \";\r\n    maxFigures--;\r\n    digits = 2;\r\n  }\r\n\r\n  // Remove trailing space\r\n  s = s.slice(0, s.length - 1);\r\n  return s;\r\n}\r\n\r\nexport function findRecentWeekly() {\r\n  // The weekly bonuses update at Thursday 10AM UTC\r\n  var recentWeekly = new Date();\r\n  // Use last week if Thursday today but before 10AM UTC\r\n  if (recentWeekly.getUTCDay() === 4 && recentWeekly.getUTCHours() < 10) {\r\n    recentWeekly.setUTCDate(recentWeekly.getUTCDate() - 7);\r\n  }\r\n  // Find recent Thursday\r\n  while (recentWeekly.getUTCDay() !== 4) {\r\n    recentWeekly.setUTCDate(recentWeekly.getUTCDate() - 1);\r\n  }\r\n  // Set time to 10AM UTC\r\n  recentWeekly.setUTCHours(10, 0, 0, 0);\r\n  return recentWeekly;\r\n}","import { staticInfo } from './InfoContext';\r\nimport { capitalize } from './Utility';\r\n\r\nlet lastTickTime = null;\r\n\r\nexport function setFirstTickTime() {\r\n  lastTickTime = new Date().getTime();\r\n}\r\n\r\nfunction tick(userInfo) {\r\n  let currentTime = new Date().getTime();\r\n  let deltaSec = (currentTime - lastTickTime) / 1000;\r\n  lastTickTime = currentTime;\r\n  \r\n  // Common strategy: calculate maximum running time in seconds, then actual time\r\n  let maxSeconds;\r\n  let secondsRun;\r\n  \r\n  // Bunker\r\n  if (userInfo[\"bunker\"][\"owned\"]) {\r\n    let upgrades = (userInfo[\"bunker\"].upgrades.equipment ? 1 : 0) + (userInfo[\"bunker\"].upgrades.staff ? 1 : 0);\r\n    // Manufacturing\r\n    if (userInfo[\"bunker\"][\"mode\"] === 0) {\r\n      maxSeconds = Math.min(userInfo[\"bunker\"][\"supplies\"] - 0, staticInfo[\"bunker\"][\"maxProduct\"][upgrades] - userInfo[\"bunker\"][\"product\"]) * 60;\r\n      secondsRun = Math.min(deltaSec, maxSeconds);\r\n      if (secondsRun > 0) {\r\n        userInfo[\"bunker\"][\"product\"] += secondsRun/60;\r\n        userInfo[\"bunker\"][\"supplies\"] -= secondsRun/60;\r\n      }\r\n    }\r\n    // Research\r\n    else {\r\n      maxSeconds = userInfo[\"bunker\"][\"supplies\"] * staticInfo[\"bunker\"][\"maxResearchSupplies\"][upgrades]/staticInfo[\"bunker\"][\"maxSupplies\"][upgrades] * 60;\r\n      secondsRun = Math.min(deltaSec, maxSeconds);\r\n      if (secondsRun > 0) {\r\n        userInfo[\"bunker\"][\"research\"] += (secondsRun/60);\r\n        userInfo[\"bunker\"][\"research\"] %= staticInfo[\"bunker\"][\"maxResearch\"][upgrades];\r\n        userInfo[\"bunker\"][\"supplies\"] -= secondsRun/60 * staticInfo[\"bunker\"][\"maxSupplies\"][upgrades]/staticInfo[\"bunker\"][\"maxResearchSupplies\"][upgrades];\r\n      }\r\n    }\r\n  }\r\n\r\n  // MC Businesses\r\n  let mcbusinesses = staticInfo[\"mcbusinesses\"];\r\n  for (let i = 0; i < mcbusinesses.length; i++) {\r\n      let business = mcbusinesses[i];\r\n      let upgrades = (userInfo[business].upgrades.equipment ? 1 : 0) + (userInfo[business].upgrades.staff ? 1 : 0);\r\n      if (userInfo[business][\"owned\"]) {\r\n          maxSeconds = Math.min(userInfo[business][\"supplies\"] - 0, staticInfo[business][\"maxProduct\"][upgrades] - userInfo[business][\"product\"]) * 60;\r\n          secondsRun = Math.min(deltaSec, maxSeconds);\r\n          if (secondsRun > 0) {\r\n              userInfo[business][\"product\"] += secondsRun/60;\r\n              userInfo[business][\"supplies\"] -= secondsRun/60;\r\n          }\r\n      }\r\n  }\r\n  \r\n  // Nightclub\r\n  if (userInfo[\"nightclub\"][\"owned\"]) {\r\n      let products = staticInfo[\"nightclub\"][\"products\"];\r\n      let upgrades = userInfo[\"nightclub\"].upgrades.equipment ? 1 : 0;\r\n      let storage_index = userInfo[\"nightclub\"].storage_floors - 1;\r\n      for (let i = 0; i < products.length; i++) {\r\n          let product = products[i];\r\n          if (userInfo[\"nightclub\"][\"producing\"][product]) {\r\n              if (userInfo[\"nightclub\"][product] < staticInfo[\"nightclub\"][\"max\"+capitalize(product)][storage_index]) {\r\n                  userInfo[\"nightclub\"][product] += deltaSec/60 * 1/staticInfo[\"nightclub\"][\"accrue\"+capitalize(product)][upgrades];\r\n                  userInfo[\"nightclub\"][product] = Math.min(userInfo[\"nightclub\"][product], staticInfo[\"nightclub\"][\"max\"+capitalize(product)][storage_index]);\r\n              }\r\n          }\r\n      }\r\n  }\r\n  \r\n  // Import / Export\r\n  if (userInfo[\"importExport\"][\"cooldown\"] > 0) {\r\n      userInfo[\"importExport\"][\"cooldown\"] = Math.max(userInfo[\"importExport\"][\"cooldown\"] - deltaSec*1000, 0);\r\n  }\r\n\r\n  return userInfo;\r\n}\r\n\r\nexport default tick;","import { createSlice } from '@reduxjs/toolkit';\r\nimport tick from '../tick';\r\n\r\nexport const slice = createSlice({\r\n  name: 'userInfo',\r\n  // initialState is null because we set it on store configuration in ../app/store.js\r\n  initialState: null,\r\n  reducers: {\r\n    // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n    // doesn't actually mutate the state because it uses the immer library,\r\n    // which detects changes to a \"draft state\" and produces a brand new\r\n    // immutable state based off those changes\r\n    // func_vehicle: Can reassign state by returning new state\r\n    setResourceValue: (state, action) => {\r\n      state[action.payload.business][action.payload.resource] = action.payload.value;\r\n    },\r\n    setWheelTimestamp: (state, action) => {\r\n      state.wheel.timestamp = action.payload;\r\n    },\r\n    setImportExportCooldown: (state, action) => {\r\n      state.importExport.cooldown = action.payload;\r\n    },\r\n    toggleNotifications: (state) => {\r\n      state.settings.audio.enabled = !state.settings.audio.enabled;\r\n    },\r\n    setRootObject: (state, action) => {\r\n      state[action.payload.key] = action.payload.value;\r\n    },\r\n    toggleBusinessMuted: (state, action) => {\r\n      state[action.payload].muted = !state[action.payload].muted;\r\n    },\r\n    setUserInfo: (state, action) => {\r\n      return action.payload;\r\n    },\r\n    runTick: (state) => {\r\n      return tick(state);\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setResourceValue, setWheelTimestamp, setImportExportCooldown,\r\n  toggleNotifications, setRootObject, toggleBusinessMuted, setUserInfo,\r\n  runTick,\r\n} = slice.actions;\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched\r\n\r\n// export const incrementAsync = amount => dispatch => {\r\n//   setTimeout(() => {\r\n//     dispatch(incrementByAmount(amount));\r\n//   }, 1000);\r\n// };\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\r\n\r\n//export const selectCount = state => state.counter.value;\r\n\r\nexport default slice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const slice = createSlice({\r\n  name: 'session',\r\n  initialState: {\r\n    running: false,\r\n    banner: [\"BannerPaused\", {}],\r\n    lastNotified: {\r\n      general: 0,\r\n      bunker: 0,\r\n      coke: 0,\r\n      meth: 0,\r\n      cash: 0,\r\n      weed: 0,\r\n      forgery: 0,\r\n      nightclub: 0,\r\n      importExport: 0,\r\n      wheel: 0,\r\n    },\r\n    updateState: false,\r\n  },\r\n  reducers: {\r\n    // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n    // doesn't actually mutate the state because it uses the immer library,\r\n    // which detects changes to a \"draft state\" and produces a brand new\r\n    // immutable state based off those changes\r\n    // func_vehicle: Can reassign state by returning new state\r\n    toggleRunning: (state) => {\r\n      state.running = !state.running;\r\n    },\r\n    setBanner: (state, action) => {\r\n      if (!Array.isArray(action.payload)) {\r\n        action.payload = [action.payload, {}];\r\n      }\r\n      state.banner = action.payload;\r\n    },\r\n    setLastNotified: (state, action) => {\r\n      state.lastNotified[action.payload.type] = action.payload.timestamp;\r\n    },\r\n    toggleUpdateState: (state) => {\r\n      state.updateState = !state.updateState;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { toggleRunning, setBanner, setLastNotified, toggleUpdateState } = slice.actions;\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched\r\n\r\n// export const incrementAsync = amount => dispatch => {\r\n//   setTimeout(() => {\r\n//     dispatch(incrementByAmount(amount));\r\n//   }, 1000);\r\n// };\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\r\n\r\n//export const selectCount = state => state.counter.value;\r\n\r\nexport default slice.reducer;\r\n","import iconBunker from \"./bunker.png\";\r\nimport iconCoke from \"./coke.png\";\r\nimport iconMeth from \"./meth.png\";\r\nimport iconCash from \"./cash.png\";\r\nimport iconWeed from \"./weed.png\";\r\nimport iconForgery from \"./forgery.png\";\r\nimport iconNightclub from \"./nightclub.png\";\r\nimport iconImportExport from \"./import.png\";\r\nimport iconWheel from \"./wheel.png\";\r\n\r\nexport const business_icons = {\r\n    bunker: iconBunker,\r\n    coke: iconCoke,\r\n    meth: iconMeth,\r\n    cash: iconCash,\r\n    weed: iconWeed,\r\n    forgery: iconForgery,\r\n    nightclub: iconNightclub,\r\n    importExport: iconImportExport,\r\n    wheel: iconWheel,\r\n}","import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport {\r\n    setLastNotified\r\n} from './redux/sessionSlice';\r\nimport { business_icons } from './img/';\r\nimport { capitalize } from './Utility';\r\nimport { staticInfo } from './InfoContext';\r\n\r\n// Handle sending push notifications\r\nexport const notify = {\r\n    list: [],\r\n    id: 0,\r\n    log: function(msg) {\r\n        console.log(msg);\r\n    },\r\n    compatible: function() {\r\n        if (typeof Notification === 'undefined') {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    authorize: async function() {\r\n        if (notify.compatible()) {\r\n            return await Notification.requestPermission();\r\n        }\r\n        else {\r\n            alert(\"Unfortunately, push notifications are not available for your browser.\");\r\n            return false;\r\n        }\r\n    },\r\n    show: function(title, body, business) {\r\n        if (notify.compatible()) {\r\n            if (!navigator.serviceWorker) {\r\n                notify.log(\"serviceWorker API unavailable in this browser\");\r\n                return;\r\n            }\r\n            navigator.serviceWorker.ready.then(function(registration) {\r\n                notify.id++;\r\n                let id = notify.id;\r\n                notify.list[id] = registration.showNotification(title, {\r\n                    body: body,\r\n                    tag: business,\r\n                    icon: business_icons[business],\r\n                    lang: \"\",\r\n                    dir: \"auto\",\r\n                });\r\n                notify.log(\"Notification #\"+id+\" queued for display\");\r\n            });\r\n        }\r\n        else {\r\n            notify.log(\"Notifications not supported, ignoring.\");\r\n        }\r\n    },\r\n};\r\n\r\nconst audio = new Audio(process.env.PUBLIC_URL + \"/sfx/chime.mp3\");\r\n\r\nexport function useNotifyBusiness(business) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const businessInfo = useSelector(state => state.userInfo[business]);\r\n    const running = useSelector(state => state.session.running);\r\n    const audioEnabled = useSelector(state => state.userInfo.settings.audio.enabled);\r\n    const volume = useSelector(state => state.userInfo.settings.audio.volume);\r\n    const interval = useSelector(state => state.userInfo.settings.audio.interval);\r\n    const pushEnabled = useSelector(state => state.userInfo.settings.push_notifications);\r\n    const updateState = useSelector(state => state.session.updateState);\r\n\r\n    const [state, setState] = useState(false);\r\n    const lastPlayed = useSelector(state => state.session.lastNotified);\r\n\r\n    function playAudioIfNecessary() {\r\n        if (!audioEnabled || businessInfo.muted) {\r\n            return;\r\n        }\r\n        let timestamp = new Date().getTime();\r\n        if (timestamp - lastPlayed.general > (1000*60) * interval) {\r\n            let payload = {\r\n                type: \"general\",\r\n                timestamp: timestamp,\r\n            }\r\n            dispatch(setLastNotified(payload));\r\n            audio.pause();\r\n\t\t    audio.currentTime = 0;\r\n            audio.volume = volume;\r\n            audio.play();\r\n        }\r\n    }\r\n\r\n    function pushNotifyIfNecessary(business, title, body) {\r\n        if (!audioEnabled || !pushEnabled || businessInfo.muted) {\r\n            return;\r\n        }\r\n        let timestamp = new Date().getTime();\r\n        if (timestamp - lastPlayed[business] > (1000*60) * interval) {\r\n            let payload = {\r\n                type: business,\r\n                timestamp: timestamp,\r\n            }\r\n            dispatch(setLastNotified(payload));\r\n            notify.show(title, body, business);\r\n        }\r\n    }\r\n\r\n    function shouldNotify() {\r\n        // Wheel\r\n        if (business === \"wheel\") {\r\n            if ((running || businessInfo.notify_while_paused) && new Date().getTime() - businessInfo.timestamp > (1000*60)*60*24) {\r\n                setState(true);\r\n                playAudioIfNecessary();\r\n                pushNotifyIfNecessary(\"wheel\", \"GTA V Business Manager\", \"The Lucky Wheel is ready to be spun.\");\r\n                return;\r\n            }\r\n            setState(false);\r\n            return;\r\n        }\r\n\r\n        // General pruning\r\n        if (!businessInfo.owned || !running) {\r\n            setState(false);\r\n            return;\r\n        }\r\n\r\n        // Bunker, MC Businesses\r\n        if ([\"bunker\", \"coke\", \"meth\", \"cash\", \"weed\", \"forgery\"].includes(business)) {\r\n            let upgradeIndex = (businessInfo.upgrades.equipment ? 1 : 0) + (businessInfo.upgrades.staff ? 1 : 0);\r\n            for (let resource of staticInfo[business].resources) {\r\n                if (resource === \"supplies\") {\r\n                    if (businessInfo.supplies <= 0) {\r\n                        setState(true);\r\n                        playAudioIfNecessary();\r\n                        let business_name = staticInfo[business].fullName;\r\n                        if (business !== \"bunker\") {\r\n                            business_name += \" business\";\r\n                        }\r\n                        pushNotifyIfNecessary(business, \"GTA V Business Manager\", \"Your \"+business_name+\" has run out of supplies.\");\r\n                        return;\r\n                    }\r\n                }\r\n                else if (businessInfo[resource] >= staticInfo[business][\"max\"+capitalize(resource)][upgradeIndex]) {\r\n                    setState(true);\r\n                    playAudioIfNecessary();\r\n                    let business_name = staticInfo[business].fullName;\r\n                    if (business !== \"bunker\") {\r\n                        business_name += \" business\";\r\n                    }\r\n                    // Bunker research cannot notify as will immediately empty upon filling\r\n                    pushNotifyIfNecessary(business, \"GTA V Business Manager\", \"Your \"+business_name+\" has reached maximum product and is ready to sell.\");\r\n                    return;\r\n                }\r\n            }\r\n            setState(false);\r\n            return;\r\n        }\r\n\r\n        // Nightclub\r\n        if (business === \"nightclub\") {\r\n            let products = staticInfo.nightclub.products;\r\n            let storage_floors = businessInfo.storage_floors;\r\n            for (let product of products) {\r\n                if (businessInfo.producing[product]) {\r\n                    if (businessInfo[product] >= staticInfo.nightclub[\"max\"+capitalize(product)][storage_floors - 1]) {\r\n                        setState(true);\r\n                        playAudioIfNecessary();\r\n                        pushNotifyIfNecessary(\"nightclub\", \"GTA V Business Manager\", \"Your Nightclub is at maximum capacity in one or more products.\");\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            setState(false);\r\n            return;\r\n        }\r\n    }\r\n\r\n    useEffect(shouldNotify, [updateState, running, businessInfo.owned, businessInfo.muted, audioEnabled, pushEnabled]);\r\n\r\n    return state;\r\n}","import React from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport {\r\n  toggleBusinessMuted,\r\n} from './redux/userInfoSlice';\r\n\r\nimport blank from './img/blank.png';\r\nimport { useNotifyBusiness } from './Notification';\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let businessInfo = state.userInfo[ownProps.business];\r\n  \r\n  let newProps = {\r\n    owned: businessInfo.owned,\r\n    muted: businessInfo.muted,\r\n    audioEnabled: state.userInfo.settings.audio.enabled,\r\n    position: businessInfo.map_position,\r\n    updateState: state.session.updateState,\r\n  }\r\n  \r\n  return newProps;\r\n}\r\n\r\nconst MapIcon = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n  \r\n  function muteBusiness() {\r\n    dispatch(toggleBusinessMuted(props.business));\r\n  }\r\n\r\n  let flashState = useNotifyBusiness(props.business) && props.updateState;\r\n  \r\n  let mapIcon = null;\r\n  let muteIcon = null;\r\n  if (props.owned) {\r\n    mapIcon = (\r\n      <img\r\n        id={props.business + \"_map\"}\r\n        src={blank}\r\n        className={\"icons icons-map icons-\" + props.business + (props.muted != null ? \" clickable\" : \"\") + (flashState ? \" flash\" : \"\")}\r\n        alt={props.full_name + \" icon\"}\r\n        style={{\r\n          top: props.position.y + \"%\",\r\n          left: props.position.x + \"%\",\r\n        }}\r\n        onClick={props.muted != null ? muteBusiness : undefined}\r\n      />\r\n    );\r\n\r\n    if (props.muted) {\r\n      muteIcon = (\r\n        <img\r\n          id={props.business + \"_mute\"}\r\n          src={blank}\r\n          className=\"icons icons-map icons-mute\"\r\n          alt={props.full_name + \" mute icon\"}\r\n          style={{\r\n            top: \"calc(\" + props.position.y + \"% - 8px)\",\r\n            left: \"calc(\" + props.position.x + \"% + 8px)\",\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {mapIcon}\r\n      {muteIcon}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(MapIcon);","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const slice = createSlice({\r\n  name: 'location',\r\n  initialState: {\r\n    business: null,\r\n    mode: null,\r\n    index: null,\r\n    x: null,\r\n    y: null,\r\n  },\r\n  reducers: {\r\n    // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n    // doesn't actually mutate the state because it uses the immer library,\r\n    // which detects changes to a \"draft state\" and produces a brand new\r\n    // immutable state based off those changes\r\n    // func_vehicle: Can reassign state by returning new state\r\n    resetLocationSetter: (state, action) => {\r\n      return {\r\n        business: null,\r\n        mode: null,\r\n        index: null,\r\n        x: null,\r\n        y: null,\r\n      }\r\n    },\r\n    configureLocationSetter: (state, action) => {\r\n      return {\r\n        business: action.payload,\r\n        mode: 0,\r\n        index: 0,\r\n        x: null,\r\n        y: null,\r\n      }\r\n    },\r\n    toggleMode: (state) => {\r\n      state.mode = state.mode === 0 ? 1 : 0;\r\n    },\r\n    setSelectedIndex: (state, action) => {\r\n      state.index = action.payload;\r\n    },\r\n    setCoordinates: (state, action) => {\r\n      state.x = action.payload[0];\r\n      state.y = action.payload[1];\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n    resetLocationSetter, clearLocationSetter, configureLocationSetter, toggleMode,\r\n    setSelectedIndex, setCoordinates,\r\n} = slice.actions;\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched\r\n\r\n// export const incrementAsync = amount => dispatch => {\r\n//   setTimeout(() => {\r\n//     dispatch(incrementByAmount(amount));\r\n//   }, 1000);\r\n// };\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\r\n\r\n//export const selectCount = state => state.counter.value;\r\n\r\nexport default slice.reducer;\r\n","import React from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport {\r\n  setSelectedIndex\r\n} from './redux/locationSlice';\r\n\r\nimport { staticInfo } from './InfoContext';\r\nimport blank from './img/blank.png';\r\n\r\nexport const MapPlaceableIcon = (props) => {\r\n  let style;\r\n  if (props.x == null) {\r\n    style = {\r\n      display: \"none\",\r\n    }\r\n  }\r\n  else {\r\n    style = {\r\n      top: props.y + \"%\",\r\n      left: props.x + \"%\",\r\n    }\r\n  }\r\n\r\n  return (\r\n    <img\r\n      src={blank}\r\n      id=\"icon-placing\"\r\n      className={\"icons icons-map icons-\" + props.business + (props.clickable ? \" clickable\" : \" icons-placing\")}\r\n      alt={props.business + \" icon\"}\r\n      style={style}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let newProps = {\r\n    selected: state.location.index === ownProps.index,\r\n  }\r\n  return newProps;\r\n}\r\n\r\nexport const MapGhostIcon = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n  \r\n  function setSelected() {\r\n    dispatch(setSelectedIndex(props.index));\r\n  }\r\n\r\n  let location = staticInfo[props.business].locations[props.index];\r\n\r\n  return (\r\n    <img\r\n      src={blank}\r\n      className={\"icons icons-map icons-\" + props.business + (props.selected ? \"\" : \" clickable faded\")}\r\n      alt={location.name + \" \" + props.business + \" icon\"}\r\n      style={{\r\n          top: location.y + \"%\",\r\n          left: location.x + \"%\",\r\n      }}\r\n      onClick={props.selected ? undefined : setSelected}\r\n    />\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(MapGhostIcon);","import React, { useEffect } from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport {\r\n    setBanner,\r\n} from './redux/sessionSlice';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft, faArrowRight, faCheck, faTimes, faEllipsisV } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { staticInfo } from './InfoContext';\r\nimport {\r\n    toggleMode,\r\n    setSelectedIndex,\r\n    setCoordinates,\r\n} from './redux/locationSlice';\r\nimport { mod } from './Utility';\r\n\r\nexport const BannerPaused = () => {\r\n    return (\r\n        <div id=\"pausedMiniNotif\">\r\n            <p>The business manager is paused.</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const BannerSelectLocation = connect((state) => {\r\n    let newProps = {\r\n        business: state.location.business,\r\n        index: state.location.index,\r\n        running: state.session.running,\r\n    }\r\n    return newProps;\r\n})((props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }, []);\r\n\r\n    const numLocations = staticInfo[props.business].locations.length;\r\n    const currentLocation = staticInfo[props.business].locations[props.index];\r\n\r\n    function previousLocation() {\r\n        let newIndex = mod(props.index - 1, numLocations);\r\n        dispatch(setSelectedIndex(newIndex));\r\n    }\r\n\r\n    function nextLocation() {\r\n        let newIndex = mod(props.index + 1, numLocations);\r\n        dispatch(setSelectedIndex(newIndex));\r\n    }\r\n\r\n    function cancel() {\r\n        dispatch(setCoordinates([null, null]));\r\n        if (props.running) {\r\n            dispatch(setBanner(null));\r\n        }\r\n        else {\r\n            dispatch(setBanner(\"BannerPaused\"));\r\n        }\r\n    }\r\n\r\n    function confirmLocation() {\r\n        dispatch(setCoordinates([currentLocation.x, currentLocation.y]));\r\n        if (props.running) {\r\n            dispatch(setBanner(null));\r\n        }\r\n        else {\r\n            dispatch(setBanner(\"BannerPaused\"));\r\n        }\r\n    }\r\n\r\n    function changeToManual() {\r\n        dispatch(toggleMode());\r\n        dispatch(setBanner([\"BannerCustomLocation\", { business: props.business }]));\r\n    }\r\n\r\n    return (\r\n        <div id=\"selectLocation\" className=\"has-buttons\">\r\n            <div className=\"left\">\r\n                <button onClick={previousLocation} className=\"button red\"><FontAwesomeIcon icon={faArrowLeft} /></button>\r\n                <span>{currentLocation.name}</span>\r\n                <button onClick={nextLocation} className=\"button red\"><FontAwesomeIcon icon={faArrowRight} /></button>\r\n            </div>\r\n            <div className=\"right\">\r\n                <button onClick={confirmLocation} className=\"button red\"><FontAwesomeIcon icon={faCheck} /></button>\r\n                <button onClick={cancel} className=\"button red\"><FontAwesomeIcon icon={faTimes} /></button>\r\n                <button onClick={changeToManual} className=\"button red\"><FontAwesomeIcon icon={faEllipsisV} /></button>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport const BannerCustomLocation = connect((state) => {\r\n    let newProps = {\r\n        xPos: state.location.x,\r\n        yPos: state.location.y,\r\n        running: state.session.running,\r\n    }\r\n    return newProps;\r\n})((props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function cancel() {\r\n        dispatch(setCoordinates([null, null]));\r\n        if (props.running) {\r\n            dispatch(setBanner(null));\r\n        }\r\n        else {\r\n            dispatch(setBanner(\"BannerPaused\"));\r\n        }\r\n    }\r\n\r\n    function confirmLocation() {\r\n        if (props.running) {\r\n            dispatch(setBanner(null));\r\n        }\r\n        else {\r\n            dispatch(setBanner(\"BannerPaused\"));\r\n        }\r\n    }\r\n\r\n    function changeToSelect() {\r\n        dispatch(toggleMode());\r\n        dispatch(setBanner([\"BannerSelectLocation\", { business: props.business }]));\r\n    }\r\n\r\n    let hint;\r\n    if (props.xPos == null) {\r\n        hint = (\r\n            <React.Fragment>\r\n                <p className=\"desktop-only\">Click map to choose custom location.</p>\r\n                <p className=\"mobile-only\">Tap map to choose custom location.</p>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n    else {\r\n        hint = (\r\n            <React.Fragment>\r\n                <p className=\"desktop-only\">Click icon to relocate.</p>\r\n                <p className=\"mobile-only\">Tap icon to relocate.</p>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id=\"customLocation\" className=\"has-buttons\">\r\n            <div className=\"left\">\r\n                {hint}\r\n            </div>\r\n            <div className=\"right\">\r\n                <button onClick={confirmLocation} disabled={props.xPos == null} className=\"button red\"><FontAwesomeIcon icon={faCheck} /></button>\r\n                <button onClick={cancel} className=\"button red\"><FontAwesomeIcon icon={faTimes} /></button>\r\n                <button onClick={changeToSelect} className=\"button red\"><FontAwesomeIcon icon={faEllipsisV} /></button>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nconst stringElementMap = {\r\n    BannerPaused,\r\n    BannerSelectLocation,\r\n    BannerCustomLocation,\r\n}\r\n\r\nfunction createBanner(arr) {\r\n    // Array has string name and object properties\r\n    return React.createElement(stringElementMap[arr[0]], arr[1]);\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    let newProps = {\r\n        banner: state.session.banner,\r\n    }\r\n    return newProps;\r\n}\r\n\r\nconst BannerNotification = (props) => {\r\n    let bannerContainer = null;\r\n    if (props.banner[0] != null) {\r\n        bannerContainer = (\r\n            <div id=\"mini_notif\">\r\n                {createBanner(props.banner)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return bannerContainer;\r\n}\r\n\r\nexport default connect(mapStateToProps)(BannerNotification);","import React from 'react';\r\n\r\nexport const patchArray = [\r\n    <div className=\"main\">\r\n        <h1>Version 1.0.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Initial Release</h2>\r\n            <ul>\r\n                <li>Keep track of your businesses supply and product levels!</li>\r\n                <ul>\r\n                    <li>Supports all businesses except Weed and Document Forgery.</li>\r\n                </ul>\r\n                <li>Also keeps track of the daily wheel spin!</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.1.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Added support for the Weed and Document Forgery businesses.</li>\r\n                <li>Added a notification sound to let you know when a business needs your attention.</li>\r\n                <ul>\r\n                    <li>Toggleable using button near start / pause button.</li>\r\n                    <li>Interval and volume can be adjusted in the main settings.</li>\r\n                </ul>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.2.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>The business manager is now hosted online on GitHub Pages, allowing for automatic updates.</li>\r\n                <li>Added Organic Produce and Printing and Copying to the Nightclub.</li>\r\n                <li>Added option to Nightclub to show all products, even if they are not actively being produced.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.3.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Added patch notes, visible when the business manager updates.</li>\r\n                <li>Added progress bar styles, selectable through the main setup.</li>\r\n                <ul>\r\n                    <li>Compact: Default. Just a plain bar (the old appearance).</li>\r\n                    <li>5-tick: Same as compact, but divided into 5 parts (like with MC businesses).</li>\r\n                    <li>Percentage: Larger, but shows percentage number on the bar.</li>\r\n                    <li>Time Remaining: Larger, but shows calculated time remaining until full/empty on the bar.</li>\r\n                </ul>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.4.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Businesses can now be individually muted by clicking on their map icon.</li>\r\n                <li>The Lucky Wheel can now be hidden via its setup.</li>\r\n                <li>Added button to view these patch notes again to the main setup.</li>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Bunker research bar should now be calculated correctly.</li>\r\n                <ul>\r\n                    <li>Projected times with time remaining bar style may still be incorrect for bunker research.</li>\r\n                </ul>\r\n                <li>Increased contrast of progress bar text (for percentage and time remaining styles).</li>\r\n                <li>Potential fix for notification sound not playing on some browsers.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.5.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>The business manager now scales better at common mobile resolutions.</li>\r\n                <ul>\r\n                    <li>Main controls are moved to below the map.</li>\r\n                    <li>Information windows are centered on the display instead of on the map.</li>\r\n                </ul>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Various minor bug fixes.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.5.3</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>The default progress bar style has been changed to '5-tick'.</li>\r\n                <ul>\r\n                    <li>If you were using the 'compact' progress bar style, you have been automatically moved to the '5-tick'\r\n                    style. Feel free to swap back if you prefer the previous look.</li>\r\n                    <li>The 'compact' style is now called 'plain' in the settings.</li>\r\n                </ul>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Various optimizations to improve loading speed.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.6.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Push notifications are now available in the main setup. These will send you a notification through your browser, but you still need to have the manager open to receive them.</li>\r\n                <li>You will be reminded if the weekly bonuses have changed when loading the website.</li>\r\n                <li>You can now enable the Lucky Wheel reminder to play even while the manager is paused in its setup.</li>\r\n                <ul>\r\n                    <li>The notification sound may not play when initially loading the website with this setting.</li>\r\n                </ul>\r\n                <li>You will now be warned if you have more than one tab of the business manager open as having multiple open at the same time causes issues.</li>\r\n                <li>Added instructions when setting the location of a business.</li>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Various display fixes, especially for Firefox.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.7.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Added dark mode, available in the main setup.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.7.1</h1>\r\n        <div className=\"indent\">\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Fixed an issue where the transparent overlay behind dialog boxes would not cover the entire background on mobile displays.</li>\r\n                <li>Fixed regression causing scroll bar on business tabs to make the business headers overflow in Firefox.</li>\r\n                <li>Added a warning stating the request to allow notifications was denied</li>\r\n                <li>New users will now only receive the new user dialog box upon opening the page.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.7.2</h1>\r\n        <div className=\"indent\">\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Fixed transparent overlay behind dialog box sometimes not appearing.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.7.3</h1>\r\n        <div className=\"indent\">\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Fixed businesses not tracking correctly while the device is asleep.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.8.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Added the ability to view previous patch notes (available in the top right of this window!).</li>\r\n                <li>Added favicon.</li>\r\n                <li>The total Nightclub stock is now shown in the modify menu, along with the vehicle required to sell all stock.</li>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Fixed bug where supplies could go under 0% and product could go over 100% if the device was asleep for too long.</li>\r\n                <li>Fixed bug where the session timer would become out of sync after reaching 0 if the device was asleep.</li>\r\n                <li>Fixed Nightclub modify menu on mobile.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.9.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Added preplaced locations when setting the location of a business.</li>\r\n                <ul>\r\n                    <li>Click a location to select it or use the arrows to cycle through locations.</li>\r\n                    <li>Confirm the location with the tick, or cancel with the cross.</li>\r\n                    <li>Swap back to manual placement using the three dot button.</li>\r\n                </ul>\r\n                <li>'Time remaining' progress style now always shows minutes.</li>\r\n                <li>Added button to view the business manager's GitHub project in the main setup.</li>\r\n                <ul>\r\n                    <li>Post bugs and suggest improvements here!</li>\r\n                </ul>\r\n                <li>Added missing older patch notes.</li>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Fixed entering numbers into number only text fields.</li>\r\n                <li>Fixed applying changes to settings menus with invalid text field entries.</li>\r\n                <li>Fixed main dialog box buttons on thin mobile displays.</li>\r\n                <li>Removed ability to scroll background while a dialog box is open on mobile.</li>\r\n                <li>Moved Weed and Document Forgery default locations to more appropriate locations.</li>\r\n                <li>Moved Reset Everything button to data section in main settings.</li>\r\n                <li>Fixed large dialog boxes going off screen on thin width desktop displays.</li>\r\n                <li>Fixed various display issues on Microsoft Edge.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.10.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Added the option to select upgrades to all applicable businesses, available in their respective setup menus.</li>\r\n                <ul>\r\n                    <li>Existing users will have every upgrade enabled, which is how the manager worked before this update.</li>\r\n                    <li>Click on the upgrade to toggle it. Timers will be adjusted on the fly.</li>\r\n                    <li>Note that the security upgrade currently does nothing.</li>\r\n                    <li>Nightclub also has storage floor upgrades (determines max product).</li>\r\n                </ul>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Some business timings have been fixed based on information from the GTA Wiki.</li>\r\n                <ul>\r\n                    <li>Weed, all upgrades: full supplies now last 3h 20m (up from 2h 24m).</li>\r\n                    <li>Bunker, all upgrades: full supplies now last 2h 20m (down from 2h 30m)</li>\r\n                </ul>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.10.1</h1>\r\n        <div className=\"indent\">\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Fixed Nightclub not notifying when full.</li>\r\n                <li>Fixed Import/Export El Burro Heights location.</li>\r\n                <li>Fixed an alert message constantly popping up on browsers that don't support push notifications.</li>\r\n                <li>Fixed a bug with downloading the business manager data affecting some browsers.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 1.10.2</h1>\r\n        <div className=\"indent\">\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Fixed push notifications on Chrome mobile.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 2.0.0</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>The business manager now runs on React + Redux instead of custom JavaScript. What does this mean for you?</li>\r\n                <ul>\r\n                    <li>This should improve performance, as well as fix some rare bugs.</li>\r\n                    <li>The application will now run offline, and some browsers will allow you to 'install' this web application for this purpose.</li>\r\n                    <li>Future updates will be easier to create.</li>\r\n                    <li>If you notice any new bugs, please post them as a GitHub issue.</li>\r\n                </ul>\r\n                <li>New users will now have all upgrades for businesses automatically enabled, and 5 storage floors for the Nightclub.</li>\r\n                <li>The custom location selector now has a confirmation screen, and allows you to swap back to preplaced location selector.</li>\r\n                <li>Added link to view weekly bonuses in the main setup.</li>\r\n            </ul>\r\n            <h2>Information</h2>\r\n            <ul>\r\n                <li>Modifying settings will no longer display the changes live in the background. You now need to press apply to see the changes.</li>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Numeric inputs will display invalid values better now.</li>\r\n                <li>Fixed a bug where the maximum value for inputs on the Nightclub modify screen wouldn't take storage floors into consideration.</li>\r\n                <li>There is no longer a delay when swapping patch notes pages for the first time.</li>\r\n            </ul>\r\n        </div>\r\n    </div>,\r\n    <div className=\"main\">\r\n        <h1>Version 2.0.1</h1>\r\n        <div className=\"indent\">\r\n            <h2>Improvements</h2>\r\n            <ul>\r\n                <li>Bunker research will now auto-empty and begin researching again like it does in-game, so you don't have to manually empty the bar.</li>\r\n                <li>The 'Hide research' Bunker option has changed to 'Show produced / Show both', similar to the Nightclub option.</li>\r\n            </ul>\r\n            <h2>Information</h2>\r\n            <ul>\r\n                <li>The 'Both' Bunker mode has been removed as it was buggy, and was likely incorrect.</li>\r\n                <ul>\r\n                    <li>Users on this mode have been moved to Manufacturing.</li>\r\n                    <li>The most efficient method of researching is to fast-track every item and use your supplies manufacturing instead.</li>\r\n                </ul>\r\n                <li>The Bunker will no longer give a notification when a research item is complete, as you will receive a text in-game anyway.</li>\r\n            </ul>\r\n            <h2>Fixes</h2>\r\n            <ul>\r\n                <li>Fixed the set location buttons for the Nightclub and Import/Export.</li>\r\n                <li>New users will no longer receive the Weekly Bonus notification on their second visit if they haven't changed since their first visit.</li>\r\n                <li>Changed the 'Multiple Tabs Open' warning message to be a popup instead, which works better on Firefox Mobile PWA.</li>\r\n                <ul>\r\n                    <li>The message also now explains why it pops up after installing the Business Manager as a PWA.</li>\r\n                </ul>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n];\r\n\r\n\r\nconst Patchnotes = (props) => {\r\n    return patchArray[props.page];\r\n}\r\n\r\nexport default Patchnotes;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport {\r\n  popPopup,\r\n  pushPopup,\r\n  unshiftPopup,\r\n  clearStack,\r\n} from './redux/popupSlice';\r\nimport {\r\n  setRootObject,\r\n  setUserInfo,\r\n  setResourceValue,\r\n} from './redux/userInfoSlice';\r\nimport {\r\n  toggleRunning,\r\n  setBanner,\r\n} from './redux/sessionSlice';\r\nimport {\r\n  configureLocationSetter, resetLocationSetter,\r\n} from './redux/locationSlice';\r\nimport update from 'immutability-helper';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft, faArrowRight, faMinus, faPlus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport Patchnotes, { patchArray } from './Patchnotes';\r\nimport { defaultUserInfo, shouldUpdate, updateUserInfo, staticInfo } from './InfoContext';\r\nimport { inRange, isInteger, capitalize } from './Utility';\r\nimport { notify } from './Notification';\r\n\r\nexport const PopupPushDenied = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div id=\"pushDeniedNotice\">\r\n      <div className=\"heading\">\r\n        <h1>Notice</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <p>The request to allow push notifications has been denied. You may need to refresh the page for the\r\n        request to appear again when you press this button.</p>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">OK</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const PopupMultipleTabs = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div id=\"pushDeniedNotice\">\r\n      <div className=\"heading\">\r\n        <h1>Warning</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <p>You have multiple tabs of the business manager open. Ensure you only have one open at a time.</p>\r\n        <p>If you are receiving this message after installing the Business Manager as a PWA, close the tab\r\n        in your browser.</p>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">OK</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const PopupNewUser = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div id=\"newUserNotice\">\r\n      <div className=\"heading\">\r\n        <h1>Welcome</h1>\r\n      </div>\r\n      <div className=\"main desktop-only\">\r\n        <p>The GTA V Business Manager can keep track of your businesses while you play the game and alert you when one needs\r\n        your attention. It can also remind you when to spin the wheel, and when your daily fees will occur.</p>\r\n        <p>To begin, click the cog of a business on the right to set it up. Product and supply bars can be set by dragging\r\n        the bars to their in game values.</p>\r\n        <p>Whenever you are in a session where businesses run (such as free roam and contact missions), start the manager\r\n        with the button in the bottom right corner of the map. Pause it when you are no longer in session.</p>\r\n        <p>Your information will persist between browsing sessions. We recommend you bookmark this page if you are\r\n        considering using this manager long term.</p>\r\n      </div>\r\n      <div className=\"main mobile-only\">\r\n        <p>The GTA V Business Manager can keep track of your businesses while you play the game and alert you when one needs\r\n        your attention. It can also remind you when to spin the wheel, and when your daily fees will occur.</p>\r\n        <p>To begin, tap the cog of a business (below the map) to set it up. Product and supply bars can be set by dragging\r\n        the bars to their in game values.</p>\r\n        <p>Whenever you are in a session where businesses run (such as free roam and contact missions), start the manager\r\n        with the button below the map. Pause it when you are no longer in session.</p>\r\n        <p>Your information will persist between browsing sessions. You can download this web application for easier use by\r\n        opening your browser's drop-down menu and pressing 'Add to Home Screen' or 'Install'.</p>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">OK</button>\r\n      </div>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport const PopupUpdateAvailable = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function applyUpdate() {\r\n    window.location.reload();\r\n  }\r\n\r\n  return (\r\n    <div id=\"updateAvailable\">\r\n      <div className=\"heading\">\r\n        <h1>Update</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <p>An update is available to the business manager. Click 'Yes' to apply to update now, or 'No' to apply the update\r\n        the next time you load the manager.</p>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={applyUpdate} className=\"button red\">Yes</button>\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">No</button>\r\n      </div>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport const PopupPatchnotes = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [state, setState] = useState(patchArray.length - 1);\r\n\r\n  function decrementPage(e) {\r\n    let newPage = (state - 1 + patchArray.length) % patchArray.length;\r\n    setState(newPage);\r\n  }\r\n\r\n  function incrementPage(e) {\r\n    let newPage = (state + 1) % patchArray.length;\r\n    setState(newPage);\r\n  }\r\n\r\n  return (\r\n    <div id=\"updateNotice\">\r\n      <div className=\"heading clearfix\">\r\n        <h1>Patch Notes</h1>\r\n        <div className=\"pageSwap\">\r\n          <button onClick={decrementPage} disabled={state === 0} className=\"button red\" data-value=\"0\"><FontAwesomeIcon icon={faArrowLeft} /></button>\r\n          <button onClick={incrementPage} disabled={state === patchArray.length - 1} className=\"button red\" data-value=\"1\"><FontAwesomeIcon icon={faArrowRight} /></button>\r\n        </div>\r\n      </div>\r\n      <Patchnotes page={state}/>\r\n      <div className=\"buttons\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">OK</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const PopupNewWeek = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div id=\"newWeekNotice\">\r\n      <div className=\"heading\">\r\n        <h1>New Weekly Bonuses</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <p>The weekly bonuses for GTA Online have changed.\r\n        <br/><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.reddit.com/r/gtaonline/search?q=%22weekly+gta+online+bonuses%22&restrict_sr=on&sort=new&t=week\">Click here</a> to see what's new.</p>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">OK</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const PopupPaused = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div id=\"pauseNotice\">\r\n      <div className=\"heading\">\r\n        <h1>Notice</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <p>The business manager is currently paused. It should be unpaused at all times\r\n        when you are in free roam / contact missions in order to be accurate.</p>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">OK</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const PopupSetupMain = connect((state) => {\r\n  let newProps = {\r\n    userInfo: state.userInfo,\r\n    running: state.session.running,\r\n  }\r\n  return newProps;\r\n})((props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let workingInfo = props.userInfo.settings;\r\n  const [state, setState] = useState(workingInfo);\r\n  const [lastPlayed, setLastPlayed] = useState(0);\r\n\r\n  function validateIndividual(e) {\r\n    e.persist();\r\n    let element = e.target;\r\n    if (element.value === \"\") {\r\n      element.parentElement.classList.add(\"invalid-value\");\r\n    }\r\n    else if (element.classList.contains(\"range_enforced\") && !inRange(element)) {\r\n      element.parentElement.classList.add(\"invalid-value\");\r\n    }\r\n    else {\r\n      element.parentElement.classList.remove(\"invalid-value\");\r\n    }\r\n    setState((previousState) => update(previousState, {\r\n      audio: {\r\n        [element.name]: {$set: element.value}\r\n      }\r\n    }));\r\n  }\r\n  \r\n  function validateAll() {\r\n    let valid = true;\r\n    for (let input of document.querySelectorAll(\"#notification input[type=number]\")) {\r\n      if (input.value === \"\") {\r\n        valid = false;\r\n      }\r\n      else {\r\n        if (input.classList.contains(\"range_enforced\") && !inRange(input)) {\r\n          input.parentElement.classList.add(\"invalid-value\");\r\n          valid = false;\r\n        }\r\n        if (input.classList.contains(\"integer_only\") && isNaN(parseInt(input.value))) {\r\n          input.parentElement.classList.add(\"invalid-value\");\r\n          valid = false;\r\n        }\r\n      }\r\n    }\r\n    return valid;\r\n  }\r\n\r\n  function decrementor(e) {\r\n    let element = e.target.nextSibling;\r\n    let value = parseFloat(element.value);\r\n    let min = parseFloat(element.min);\r\n    let newValue = Math.max(value - 1, min);\r\n    setState((previousState) => update(previousState, {\r\n      audio: {\r\n        [element.name]: {$set: newValue}\r\n      }\r\n    }));\r\n  }\r\n\r\n  function incrementor(e) {\r\n    let element = e.target.previousSibling;\r\n    let value = parseFloat(element.value);\r\n    let max = parseFloat(element.max);\r\n    let newValue = Math.min(value + 1, max);\r\n    setState((previousState) => update(previousState, {\r\n      audio: {\r\n        [element.name]: {$set: newValue}\r\n      }\r\n    }));\r\n  }\r\n\r\n  function hideUnowned(e) {\r\n    let newValue = !state.hide_unowned;\r\n    setState((previousState) => update(previousState, {\r\n      hide_unowned: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  async function togglePushNotifications(e) {\r\n    let permission = await notify.authorize();\r\n    if (permission === \"granted\") {\r\n      let pushAllowed = !state.push_notifications;\r\n      setState((previousState) => update(previousState, {\r\n        push_notifications: {$set: pushAllowed}\r\n      }));\r\n      if (pushAllowed) {\r\n        notify.show(\"Testing Push Notifications\", \"If you can see this, you're good to go.\", \"forgery\");\r\n      }\r\n    }\r\n    else if (permission === \"denied\" || permission === \"default\") {\r\n      setState((previousState) => update(previousState, {\r\n        push_notifications: {$set: false}\r\n      }));\r\n      dispatch(pushPopup(\"PopupPushDenied\"));\r\n    }\r\n  }\r\n\r\n  function setAudioVolume(e) {\r\n    validateIndividual(e);\r\n    let now = new Date().getTime();\r\n    if (now - lastPlayed > 1000) {\r\n      setLastPlayed(now);\r\n      const audio = new Audio(process.env.PUBLIC_URL + \"/sfx/chime.mp3\");\r\n      let volume = parseFloat(e.target.value);\r\n      audio.volume = volume;\r\n      audio.play();\r\n    }\r\n  }\r\n\r\n  function setProgressStyle(e) {\r\n    let newValue = parseInt(e.target.dataset.value);\r\n    setState((previousState) => update(previousState, {\r\n      progress_bar_style: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function setAppStyle(e) {\r\n    let newValue = parseInt(e.target.dataset.value);\r\n    setState((previousState) => update(previousState, {\r\n      app_style: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function downloadData(e) {\r\n    // https://stackoverflow.com/questions/19721439/\r\n\t\tvar name = \"manager_data.json\";\r\n\t\tvar file = new Blob([JSON.stringify(props.userInfo)], {type: \"text/json\"});\r\n      var isIE = false || !!document.documentMode;\r\n      if (isIE) {\r\n        window.navigator.msSaveOrOpenBlob(file, name);\r\n      }\r\n      else {\r\n        let a = document.createElement('a');\r\n        a.href = URL.createObjectURL(file);\r\n        a.download = name;\r\n        a.click();\r\n\t\t}\r\n  }\r\n\r\n  function selectFile(e) {\r\n    let element = document.getElementById(\"fileInput\");\r\n    if (element != null) {\r\n      element.click();\r\n    }\r\n  }\r\n\r\n  function uploadData(e) {\r\n    var reader = new FileReader();\r\n    var file = e.target.files[0];\r\n\t\tif (file.name.split('.').pop() !== \"json\") {\r\n\t\t\tconsole.log(\"Invalid file type!\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treader.onload = function(e) {\r\n      let userInfo = JSON.parse(reader.result);\r\n      dispatch(clearStack());\r\n      if (props.running) {\r\n        dispatch(toggleRunning());\r\n      }\r\n      if (userInfo == null) {\r\n        userInfo = {...defaultUserInfo};\r\n        dispatch(pushPopup(\"PopupNewUser\"));\r\n      }\r\n      else {\r\n        if (shouldUpdate(userInfo)) {\r\n          userInfo = updateUserInfo(userInfo);\r\n          dispatch(unshiftPopup(\"PopupPatchnotes\"));\r\n        }\r\n        dispatch(unshiftPopup(\"PopupPaused\"));\r\n      }\r\n      dispatch(setUserInfo(userInfo));\r\n\t\t};\r\n\t\treader.readAsText(file);\r\n  }\r\n\r\n  function showResetEverything(e) {\r\n    dispatch(pushPopup(\"PopupResetEverything\"));\r\n  }\r\n\r\n  function showPatchnotes(e) {\r\n    dispatch(pushPopup(\"PopupPatchnotes\"));\r\n  }\r\n\r\n  function applyChanges(e) {\r\n    dispatch(setRootObject({ key: \"settings\", value: state }));\r\n    dispatch(popPopup());\r\n  }\r\n\r\n  return (\r\n    <div id=\"mainSetup\" className=\"setupGUI\">\r\n\t\t\t<div className=\"heading\">\r\n\t\t\t\t<h1>Setup</h1>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"main\">\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>Hide unowned:</td>\r\n              <td className=\"onechoice fsz\">\r\n                <button onClick={hideUnowned} className=\"button green\" disabled={state.hide_unowned} data-value=\"true\">Yes</button>\r\n                <button onClick={hideUnowned} className=\"button red\" disabled={!state.hide_unowned} data-value=\"false\">No</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Notifications:</td>\r\n              <td className=\"fsz\">\r\n                  <button onClick={togglePushNotifications} className={\"button blue\" + (state.push_notifications ? \"\" : \" off\")} data-value=\"push\">Push notifications</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Audio interval:</td>\r\n              <td className=\"incDecButtons\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input type=\"number\" name=\"interval\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.audio.interval} min=\"1\" max=\"60\" />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n                <span>minutes</span>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Audio volume:</td>\r\n              <td className=\"onechoice\">\r\n                  <input type=\"range\" name=\"volume\" onChange={setAudioVolume} value={state.audio.volume} min=\"0\" max=\"1\" step=\"0.01\" />\r\n                  <span>{Math.round(state.audio.volume*100)}%</span>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Progress style:</td>\r\n              <td className=\"onechoice fsz\">\r\n                  <button onClick={setProgressStyle} className=\"button blue\" disabled={state.progress_bar_style === 0} data-value=\"0\">Plain</button>\r\n                  <button onClick={setProgressStyle} className=\"button blue\" disabled={state.progress_bar_style === 1} data-value=\"1\">5-tick</button>\r\n                  <button onClick={setProgressStyle} className=\"button blue\" disabled={state.progress_bar_style === 2} data-value=\"2\">Percentage</button>\r\n                  <button onClick={setProgressStyle} className=\"button blue\" disabled={state.progress_bar_style === 3} data-value=\"3\">Time Remaining</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Theme:</td>\r\n              <td className=\"onechoice fsz\">\r\n                  <button onClick={setAppStyle} className=\"button white\" disabled={state.app_style === 0} data-value=\"0\">Light</button>\r\n                  <button onClick={setAppStyle} className=\"button grey\" disabled={state.app_style === 1} data-value=\"1\">Dark</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Data:</td>\r\n              <td className=\"fsz\">\r\n                <button onClick={downloadData} className=\"button orange\" data-value=\"0\">Download</button>\r\n                <button onClick={selectFile} className=\"button orange\" data-value=\"1\">Load from file</button>\r\n                <button onClick={showResetEverything} className=\"button orange\" data-value=\"reset\">Reset everything</button>\r\n                <input onChange={uploadData} id=\"fileInput\" type=\"file\" accept=\".json, application/json\" style={{display: \"none\"}} />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>About:</td>\r\n              <td className=\"fsz\">\r\n                <button onClick={showPatchnotes} className=\"button orange\" data-value=\"0\">Patch notes</button>\r\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/func-vehicle/gtamanager\" style={{marginRight: \"5px\"}}><button className=\"button orange\">GitHub</button></a>\r\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.reddit.com/r/gtaonline/search?q=%22weekly+gta+online+bonuses%22&restrict_sr=on&sort=new&t=week\"><button className=\"button orange\">Weekly Bonuses</button></a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button cancel red\">Cancel</button>\r\n        <button onClick={applyChanges} disabled={!validateAll()} className=\"button apply red\">Apply</button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const PopupResetEverything = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function confirmReset(e) {\r\n    dispatch(setUserInfo(defaultUserInfo));\r\n    dispatch(clearStack());\r\n  }\r\n\r\n  return (\r\n    <div id=\"resetWarning\">\r\n      <div className=\"heading\">\r\n        <h1>Warning</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <p>This will reset everything! Are you sure you want to continue?</p>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">Cancel</button>\r\n        <button onClick={confirmReset} className=\"button red\">Reset</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const PopupModifyNightclub = connect((state) => {\r\n  let newProps = {\r\n    nightclub: state.userInfo.nightclub,\r\n  }\r\n  return newProps;\r\n})((props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let workingInfo = {\r\n    cargo: 0,\r\n    sporting: 0,\r\n    imports: 0,\r\n    pharma: 0,\r\n    creation: 0,\r\n    organic: 0,\r\n    copying: 0,\r\n  }\r\n  const [state, setState] = useState(workingInfo);\r\n\r\n  function validateIndividual(e) {\r\n    e.persist();\r\n    let element = e.target;\r\n    if (element.value === \"\") {\r\n      element.parentElement.classList.add(\"invalid-value\");\r\n    }\r\n    else if (element.classList.contains(\"range_enforced\") && !inRange(element)) {\r\n      element.parentElement.classList.add(\"invalid-value\");\r\n    }\r\n    else {\r\n      element.parentElement.classList.remove(\"invalid-value\");\r\n    }\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: element.value}\r\n    }));\r\n  }\r\n\r\n  function validateAll() {\r\n    let valid = true;\r\n    for (let input of document.querySelectorAll(\"#notification input[type=number]\")) {\r\n      if (input.value === \"\") {\r\n        valid = false;\r\n      }\r\n      else {\r\n        if (input.classList.contains(\"range_enforced\") && !inRange(input)) {\r\n          input.parentElement.classList.add(\"invalid-value\");\r\n          valid = false;\r\n        }\r\n        if (input.classList.contains(\"integer_only\") && isNaN(parseInt(input.value))) {\r\n          input.parentElement.classList.add(\"invalid-value\");\r\n          valid = false;\r\n        }\r\n      }\r\n    }\r\n    return valid;\r\n  }\r\n\r\n  function decrementor(e) {\r\n    let element = e.target.nextSibling;\r\n    let value = parseFloat(element.value);\r\n    let min = parseFloat(element.min);\r\n    let newValue = Math.max(value - 1, min);\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function incrementor(e) {\r\n    let element = e.target.previousSibling;\r\n    let value = parseFloat(element.value);\r\n    let max = parseFloat(element.max);\r\n    let newValue = Math.min(value + 1, max);\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function sellSelected(e) {\r\n    for (let product of staticInfo.nightclub.products) {\r\n      if (state[product] === 0)\r\n        continue;\r\n      let payload = {\r\n        business: \"nightclub\",\r\n        resource: product,\r\n        value: Math.max(props.nightclub[product] - state[product], 0),\r\n      }\r\n      dispatch(setResourceValue(payload));\r\n    }\r\n    setState((previousState) => update(previousState, {\r\n      cargo: {$set: 0},\r\n      sporting: {$set: 0},\r\n      imports: {$set: 0},\r\n      pharma: {$set: 0},\r\n      creation: {$set: 0},\r\n      organic: {$set: 0},\r\n      copying: {$set: 0},\r\n    }));\r\n  }\r\n\r\n  function sellAll(e) {\r\n    for (let product of staticInfo.nightclub.products) {\r\n      let payload = {\r\n        business: \"nightclub\",\r\n        resource: product,\r\n        value: 0,\r\n      }\r\n      dispatch(setResourceValue(payload));\r\n    }\r\n    setState((previousState) => update(previousState, {\r\n      cargo: {$set: 0},\r\n      sporting: {$set: 0},\r\n      imports: {$set: 0},\r\n      pharma: {$set: 0},\r\n      creation: {$set: 0},\r\n      organic: {$set: 0},\r\n      copying: {$set: 0},\r\n    }));\r\n  }\r\n\r\n  const storageFloors = props.nightclub.storage_floors;\r\n\r\n  let totalProduct = 0;\r\n  for (let product of staticInfo.nightclub.products) {\r\n    totalProduct += Math.round(props.nightclub[product]);\r\n  }\r\n\r\n  let vehicleRequired;\r\n  if (totalProduct > 180) {\r\n    vehicleRequired = \"Pounder\";\r\n  }\r\n  else if (totalProduct > 90) {\r\n    vehicleRequired = \"Mule\";\r\n  }\r\n  else {\r\n    vehicleRequired = \"Speedo\";\r\n  }\r\n\r\n  return (\r\n    <div id=\"nightclubGUI\">\r\n      <div className=\"heading\">\r\n        <h1>Nightclub Manager</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <th>Product Name</th>\r\n              <th>Stock</th>\r\n              <th>Sell</th>\r\n            </tr>\r\n            <tr>\r\n              <td>Cargo and Shipments</td>\r\n              <td>{Math.round(props.nightclub.cargo)}/{staticInfo.nightclub.maxCargo[storageFloors - 1]}</td>\r\n              <td className=\"incDecButtons\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input name=\"cargo\" type=\"number\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.cargo} min=\"0\" max={staticInfo.nightclub.maxCargo[storageFloors - 1]} />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Sporting Goods</td>\r\n              <td>{Math.round(props.nightclub.sporting)}/{staticInfo.nightclub.maxSporting[storageFloors - 1]}</td>\r\n              <td className=\"incDecButtons\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input name=\"sporting\" type=\"number\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.sporting} min=\"0\" max={staticInfo.nightclub.maxSporting[storageFloors - 1]} />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>South American Imports</td>\r\n              <td>{Math.round(props.nightclub.imports)}/{staticInfo.nightclub.maxImports[storageFloors - 1]}</td>\r\n              <td className=\"incDecButtons\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input name=\"imports\" type=\"number\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.imports} min=\"0\" max={staticInfo.nightclub.maxImports[storageFloors - 1]} />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Pharmaceutical Research</td>\r\n              <td>{Math.round(props.nightclub.pharma)}/{staticInfo.nightclub.maxPharma[storageFloors - 1]}</td>\r\n              <td className=\"incDecButtons\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input name=\"pharma\" type=\"number\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.pharma} min=\"0\" max={staticInfo.nightclub.maxPharma[storageFloors - 1]} />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Cash Creation</td>\r\n              <td>{Math.round(props.nightclub.creation)}/{staticInfo.nightclub.maxCreation[storageFloors - 1]}</td>\r\n              <td className=\"incDecButtons\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input name=\"creation\" type=\"number\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.creation} min=\"0\" max={staticInfo.nightclub.maxCreation[storageFloors - 1]} />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Organic Produce</td>\r\n              <td>{Math.round(props.nightclub.organic)}/{staticInfo.nightclub.maxOrganic[storageFloors - 1]}</td>\r\n              <td className=\"incDecButtons\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input name=\"organic\" type=\"number\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.organic} min=\"0\" max={staticInfo.nightclub.maxOrganic[storageFloors - 1]} />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Printing and Copying</td>\r\n              <td>{Math.round(props.nightclub.copying)}/{staticInfo.nightclub.maxCopying[storageFloors - 1]}</td>\r\n              <td className=\"incDecButtons\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input name=\"copying\" type=\"number\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.copying} min=\"0\" max={staticInfo.nightclub.maxCopying[storageFloors - 1]} />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Total</td>\r\n              <td>{totalProduct}<br/>({vehicleRequired})</td>\r\n              <td></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={sellSelected} disabled={!validateAll()} className=\"button red\">Sell Selected</button>\r\n        <button onClick={sellAll} className=\"button red\">Sell All</button>\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">Close</button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const PopupSetupBunker = connect((state) => {\r\n  let newProps = {\r\n    bunker: state.userInfo.bunker,\r\n    xPosition: state.location.x,\r\n    yPosition: state.location.y,\r\n  }\r\n  return newProps;\r\n})((props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let workingInfo = props.bunker;\r\n  const [state, setState] = useState(workingInfo);\r\n\r\n  function toggleOwned(e) {\r\n    let newValue = !state.owned;\r\n    setState((previousState) => update(previousState, {\r\n      owned: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function setLocation(e) {\r\n    dispatch(configureLocationSetter(\"bunker\"));\r\n    dispatch(setBanner(\"BannerSelectLocation\"));\r\n  }\r\n\r\n  function toggleUpgrade(e) {\r\n    let upgrade = e.target.dataset.value\r\n    let newValue = !state.upgrades[upgrade];\r\n    setState((previousState) => update(previousState, {\r\n      upgrades: {\r\n        [upgrade]: {$set: newValue}\r\n      }\r\n    }));\r\n  }\r\n\r\n  function setMode(e) {\r\n    let newValue = parseInt(e.target.dataset.value, 10);\r\n    setState((previousState) => update(previousState, {\r\n      mode: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function toggleShowing(e) {\r\n    let newValue = !state.show_all;\r\n    setState((previousState) => update(previousState, {\r\n      show_all: {$set: newValue},\r\n    }));\r\n  }\r\n\r\n  function cancelChanges(e) {\r\n    dispatch(popPopup());\r\n  }\r\n\r\n  function applyChanges(e) {\r\n    let newState = {...state};\r\n    // Use selected position\r\n    if (props.xPosition != null) {\r\n      newState.map_position = {\r\n        x: props.xPosition,\r\n        y: props.yPosition,\r\n      }\r\n    }\r\n    // Do not override resource changes since opening popup\r\n    // However, need to change value so ratio is maintained\r\n    let oldUpgradeIndex = (props.bunker.upgrades.equipment ? 1 : 0) + (props.bunker.upgrades.staff ? 1 : 0);\r\n    let newUpgradeIndex = (state.upgrades.equipment ? 1 : 0) + (state.upgrades.staff ? 1 : 0);\r\n    for (let resource of [\"product\", \"research\", \"supplies\"]) {\r\n      let oldMax = staticInfo.bunker[\"max\"+capitalize(resource)][oldUpgradeIndex];\r\n      let newMax = staticInfo.bunker[\"max\"+capitalize(resource)][newUpgradeIndex];\r\n      newState[resource] = props.bunker[resource] * (newMax / oldMax);\r\n    }\r\n    dispatch(setRootObject({ key: \"bunker\", value: newState }));\r\n    dispatch(popPopup());\r\n  }\r\n\r\n  return (\r\n    <div id=\"bunkerSetupGUI\" className=\"setupGUI bunker\">\r\n      <div className=\"heading\">\r\n        <h1>Bunker Setup</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>Owned:</td>\r\n              <td className=\"onechoice fsz\">\r\n                <button onClick={toggleOwned} disabled={state.owned} className=\"button green\" data-value=\"1\">Yes</button>\r\n                <button onClick={toggleOwned} disabled={!state.owned} className=\"button red\" data-value=\"0\">No</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Map location:</td>\r\n              <td className=\"fsz\">\r\n                <button onClick={setLocation} disabled={!state.owned} className=\"button blue\">Set Location</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Upgrades:</td>\r\n              <td className=\"indivchoice fsz\">\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.equipment ? \"\" : \" off\")} data-value=\"equipment\">Equipment</button>\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.staff ? \"\" : \" off\")} data-value=\"staff\">Staff</button>\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.security ? \"\" : \" off\")} data-value=\"security\">Security</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Bunker mode:</td>\r\n              <td className=\"onechoice fsz\">\r\n                <button onClick={setMode} disabled={state.mode === 0} className=\"button blue\" data-value=\"0\">Manufacturing</button>\r\n                <button onClick={setMode} disabled={state.mode === 1} className=\"button green\" data-value=\"1\">Researching</button><br/>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Display:</td>\r\n              <td className=\"onechoice fsz\">\r\n                <button onClick={toggleShowing} disabled={state.show_all} className=\"button green\">Show both</button>\r\n                <button onClick={toggleShowing} disabled={!state.show_all} className=\"button orange\">Show produced</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={cancelChanges} className=\"button red\">Cancel</button>\r\n        <button onClick={applyChanges} className=\"button red\">Apply</button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const PopupSetupMCBusiness = connect((state, ownProps) => {\r\n  let newProps = {\r\n    [ownProps.business]: state.userInfo[ownProps.business],\r\n    xPosition: state.location.x,\r\n    yPosition: state.location.y,\r\n  }\r\n  return newProps;\r\n})((props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let workingInfo = props[props.business];\r\n  const [state, setState] = useState(workingInfo);\r\n\r\n  // Workaround for not updating when clicking setup of another MC business\r\n  const [business, setBusiness] = useState(props.business);\r\n  if (props.business !== business) {\r\n    setBusiness(props.business);\r\n    setState(props[props.business]);\r\n  }\r\n\r\n  function toggleOwned(e) {\r\n    let newValue = !state.owned;\r\n    setState((previousState) => update(previousState, {\r\n      owned: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function setLocation(e) {\r\n    dispatch(configureLocationSetter(props.business));\r\n    dispatch(setBanner(\"BannerSelectLocation\"));\r\n  }\r\n\r\n  function toggleUpgrade(e) {\r\n    let upgrade = e.target.dataset.value\r\n    let newValue = !state.upgrades[upgrade];\r\n    setState((previousState) => update(previousState, {\r\n      upgrades: {\r\n        [upgrade]: {$set: newValue}\r\n      }\r\n    }));\r\n  }\r\n\r\n  function applyChanges(e) {\r\n    let newState = {...state};\r\n    // Use selected position\r\n    if (props.xPosition != null) {\r\n      newState.map_position = {\r\n        x: props.xPosition,\r\n        y: props.yPosition,\r\n      }\r\n    }\r\n    // Do not override resource changes since opening popup\r\n    // However, need to change value so ratio is maintained\r\n    let oldUpgradeIndex = (props[props.business].upgrades.equipment ? 1 : 0) + (props[props.business].upgrades.staff ? 1 : 0);\r\n    let newUpgradeIndex = (state.upgrades.equipment ? 1 : 0) + (state.upgrades.staff ? 1 : 0);\r\n    for (let resource of [\"product\", \"supplies\"]) {\r\n      let oldMax = staticInfo[props.business][\"max\"+capitalize(resource)][oldUpgradeIndex];\r\n      let newMax = staticInfo[props.business][\"max\"+capitalize(resource)][newUpgradeIndex];\r\n      newState[resource] = props[props.business][resource] * (newMax / oldMax);\r\n    }\r\n    dispatch(setRootObject({ key: [props.business], value: newState }));\r\n    dispatch(popPopup());\r\n  }\r\n\r\n  return (\r\n    <div id=\"mcbusinessSetupGUI\" className=\"setupGUI\">\r\n      <div className=\"heading\">\r\n        <h1>{staticInfo[props.business].fullName} Setup</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>Owned:</td>\r\n              <td className=\"onechoice fsz\">\r\n                <button onClick={toggleOwned} disabled={state.owned} className=\"button green\" data-value=\"1\">Yes</button>\r\n                <button onClick={toggleOwned} disabled={!state.owned} className=\"button red\" data-value=\"0\">No</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Map location:</td>\r\n              <td className=\"fsz\">\r\n                <button onClick={setLocation} disabled={!state.owned} className=\"button blue\">Set Location</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Upgrades:</td>\r\n              <td className=\"indivchoice fsz\">\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.equipment ? \"\" : \" off\")} data-value=\"equipment\">Equipment</button>\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.staff ? \"\" : \" off\")} data-value=\"staff\">Staff</button>\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.security ? \"\" : \" off\")} data-value=\"security\">Security</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">Cancel</button>\r\n        <button onClick={applyChanges} className=\"button red\">Apply</button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\nexport const PopupSetupNightclub = connect((state, ownProps) => {\r\n  let newProps = {\r\n    nightclub: state.userInfo.nightclub,\r\n    xPosition: state.location.x,\r\n    yPosition: state.location.y,\r\n  }\r\n  return newProps;\r\n})((props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let workingInfo = props.nightclub;\r\n  const [state, setState] = useState(workingInfo);\r\n\r\n  function validateIndividual(e) {\r\n    e.persist();\r\n    let element = e.target;\r\n    if (element.value === \"\") {\r\n      element.parentElement.classList.add(\"invalid-value\");\r\n    }\r\n    else if (element.classList.contains(\"range_enforced\") && !inRange(element)) {\r\n      element.parentElement.classList.add(\"invalid-value\");\r\n    }\r\n    else {\r\n      element.parentElement.classList.remove(\"invalid-value\");\r\n    }\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: element.value}\r\n    }));\r\n  }\r\n  \r\n  function validateAll() {\r\n    let valid = true;\r\n    for (let input of document.querySelectorAll(\"#notification input[type=number]\")) {\r\n      if (input.value === \"\") {\r\n        valid = false;\r\n      }\r\n      else {\r\n        if (input.classList.contains(\"range_enforced\") && !inRange(input)) {\r\n          input.parentElement.classList.add(\"invalid-value\");\r\n          valid = false;\r\n        }\r\n        if (input.classList.contains(\"integer_only\") && isNaN(parseInt(input.value))) {\r\n          input.parentElement.classList.add(\"invalid-value\");\r\n          valid = false;\r\n        }\r\n      }\r\n    }\r\n    return valid;\r\n  }\r\n\r\n  function decrementor(e) {\r\n    let element = e.target.nextSibling;\r\n    let value = parseFloat(element.value);\r\n    let min = parseFloat(element.min);\r\n    let newValue = Math.max(value - 1, min);\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function incrementor(e) {\r\n    let element = e.target.previousSibling;\r\n    let value = parseFloat(element.value);\r\n    let max = parseFloat(element.max);\r\n    let newValue = Math.min(value + 1, max);\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function toggleOwned(e) {\r\n    let newValue = !state.owned;\r\n    setState((previousState) => update(previousState, {\r\n      owned: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function setLocation(e) {\r\n    dispatch(configureLocationSetter(\"nightclub\"));\r\n    dispatch(setBanner(\"BannerSelectLocation\"));\r\n  }\r\n\r\n  function toggleUpgrade(e) {\r\n    let upgrade = e.target.dataset.value;\r\n    let newValue = !state.upgrades[upgrade];\r\n    setState((previousState) => update(previousState, {\r\n      upgrades: {\r\n        [upgrade]: {$set: newValue}\r\n      }\r\n    }));\r\n  }\r\n\r\n  function toggleShowing(e) {\r\n    let newValue = !state.show_all;\r\n    setState((previousState) => update(previousState, {\r\n      show_all: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function toggleProducing(e) {\r\n    let product = e.target.dataset.value;\r\n    let newValue = !state.producing[product];\r\n    setState((previousState) => update(previousState, {\r\n      producing: {\r\n        [product]: {$set: newValue}\r\n      }\r\n    }));\r\n  }\r\n\r\n  function applyChanges(e) {\r\n    let newState = {...state};\r\n    // Use selected position\r\n    if (props.xPosition != null) {\r\n      newState.map_position = {\r\n        x: props.xPosition,\r\n        y: props.yPosition,\r\n      }\r\n    }\r\n    // If lowering no. of storage floors, make sure product doesn't exceed new maximum\r\n    for (let product of staticInfo.nightclub.products) {\r\n      newState[product] = Math.min(props.nightclub[product], staticInfo.nightclub[\"max\"+capitalize(product)][state.storage_floors - 1]);\r\n    }\r\n    dispatch(setRootObject({ key: \"nightclub\", value: newState }));\r\n    dispatch(popPopup());\r\n  }\r\n\r\n  return (\r\n    <div id=\"nightclubSetupGUI\" className=\"setupGUI nightclub\">\r\n      <div className=\"heading\">\r\n        <h1>Nightclub Setup</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>Owned:</td>\r\n              <td className=\"onechoice fsz\">\r\n                <button onClick={toggleOwned} disabled={state.owned} className=\"button green\" data-value=\"1\">Yes</button>\r\n                <button onClick={toggleOwned} disabled={!state.owned} className=\"button red\" data-value=\"0\">No</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Map location:</td>\r\n              <td className=\"fsz\">\r\n                <button onClick={setLocation} disabled={!state.owned} className=\"button blue\">Set Location</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Upgrades:</td>\r\n              <td className=\"indivchoice fsz\">\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.equipment ? \"\" : \" off\")} data-value=\"equipment\">Equipment</button>\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.staff ? \"\" : \" off\")} data-value=\"staff\">Staff</button>\r\n                <button onClick={toggleUpgrade} className={\"button blue\" + (state.upgrades.security ? \"\" : \" off\")} data-value=\"security\">Security</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Display:</td>\r\n              <td className=\"onechoice fsz\">\r\n                <button onClick={toggleShowing} disabled={!state.show_all} className=\"button green\" data-value=\"1\">Show all</button>\r\n                <button onClick={toggleShowing} disabled={state.show_all} className=\"button orange\" data-value=\"0\">Show produced</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Storage floors:</td>\r\n              <td className=\"incDecButtons fsz\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input type=\"number\" name=\"storage_floors\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.storage_floors} min=\"1\" max=\"5\" />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Producing:</td>\r\n              <td className=\"indivchoice fsz\">\r\n                <button onClick={toggleProducing} className={\"button blue\" + (state.producing.cargo ? \"\" : \" off\")} data-value=\"cargo\">Cargo and Shipments</button>\r\n                <button onClick={toggleProducing} className={\"button blue\" + (state.producing.sporting ? \"\" : \" off\")} data-value=\"sporting\">Sporting Goods</button>\r\n                <button onClick={toggleProducing} className={\"button blue\" + (state.producing.imports ? \"\" : \" off\")} data-value=\"imports\">South American Imports</button>\r\n                <button onClick={toggleProducing} className={\"button blue\" + (state.producing.pharma ? \"\" : \" off\")} data-value=\"pharma\">Pharmaceutical Research</button>\r\n                <button onClick={toggleProducing} className={\"button blue\" + (state.producing.creation ? \"\" : \" off\")} data-value=\"creation\">Cash Creation</button>\r\n                <button onClick={toggleProducing} className={\"button blue\" + (state.producing.organic ? \"\" : \" off\")} data-value=\"organic\">Organic Produce</button>\r\n                <button onClick={toggleProducing} className={\"button blue\" + (state.producing.copying ? \"\" : \" off\")} data-value=\"copying\">Printing and Copying</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">Cancel</button>\r\n        <button onClick={applyChanges} disabled={!validateAll()} className=\"button red\">Apply</button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const PopupSetupImportExport = connect((state) => {\r\n  let newProps = {\r\n    importExport: state.userInfo.importExport,\r\n  }\r\n  return newProps;\r\n})((props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let workingInfo = props.importExport;\r\n  const [state, setState] = useState(workingInfo);\r\n\r\n  function validateIndividual(e) {\r\n    e.persist();\r\n    let element = e.target;\r\n    if (element.value === \"\") {\r\n      element.parentElement.classList.add(\"invalid-value\");\r\n    }\r\n    else if (element.classList.contains(\"range_enforced\") && !inRange(element)) {\r\n      element.parentElement.classList.add(\"invalid-value\");\r\n    }\r\n    else {\r\n      element.parentElement.classList.remove(\"invalid-value\");\r\n    }\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: element.value}\r\n    }));\r\n  }\r\n  \r\n  function validateAll() {\r\n    let valid = true;\r\n    for (let input of document.querySelectorAll(\"#notification input[type=number]\")) {\r\n      if (input.value === \"\") {\r\n        valid = false;\r\n      }\r\n      else {\r\n        if (input.classList.contains(\"range_enforced\") && !inRange(input)) {\r\n          input.parentElement.classList.add(\"invalid-value\");\r\n          valid = false;\r\n        }\r\n        if (input.classList.contains(\"integer_only\") && isNaN(parseInt(input.value))) {\r\n          input.parentElement.classList.add(\"invalid-value\");\r\n          valid = false;\r\n        }\r\n      }\r\n    }\r\n    return valid;\r\n  }\r\n\r\n  function decrementor(e) {\r\n    let element = e.target.nextSibling;\r\n    let value = parseFloat(element.value);\r\n    let min = parseFloat(element.min);\r\n    let newValue = Math.max(value - 1, min);\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function incrementor(e) {\r\n    let element = e.target.previousSibling;\r\n    let value = parseFloat(element.value);\r\n    let max = parseFloat(element.max);\r\n    let newValue = Math.min(value + 1, max);\r\n    setState((previousState) => update(previousState, {\r\n      [element.name]: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function toggleOwned(e) {\r\n    let newValue = !state.owned;\r\n    setState((previousState) => update(previousState, {\r\n      owned: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function setLocation(e) {\r\n    dispatch(configureLocationSetter(\"importExport\"));\r\n    dispatch(setBanner(\"BannerSelectLocation\"));\r\n  }\r\n\r\n  function resetCooldown(e) {\r\n    setState((previousState) => update(previousState, {\r\n      cooldown: {$set: 0}\r\n    }));\r\n  }\r\n\r\n  function applyChanges(e) {\r\n    dispatch(setRootObject({ key: \"importExport\", value: state }));\r\n    dispatch(popPopup());\r\n  }\r\n\r\n  return (\r\n    <div id=\"importExportSetupGUI\" className=\"setupGUI importExport\">\r\n      <div className=\"heading\">\r\n        <h1>Import / Export Setup</h1>\r\n      </div>\r\n      <div className=\"main\">\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>Owned:</td>\r\n              <td className=\"onechoice fsz\">\r\n                <button onClick={toggleOwned} disabled={state.owned} className=\"button green\" data-value=\"1\">Yes</button>\r\n                <button onClick={toggleOwned} disabled={!state.owned} className=\"button red\" data-value=\"0\">No</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Map location:</td>\r\n              <td className=\"fsz\">\r\n                <button  onClick={setLocation} disabled={!state.owned} className=\"button blue\">Set Location</button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>High-end cars:</td>\r\n              <td className=\"incDecButtons fsz\">\r\n                <button onClick={decrementor} className=\"button\"><FontAwesomeIcon icon={faMinus} /></button>\r\n                <input type=\"number\" name=\"highend_cars\" onKeyPress={isInteger} onChange={validateIndividual} className=\"range_enforced integer_only\" value={state.highend_cars} min=\"0\" max=\"20\" />\r\n                <button onClick={incrementor} className=\"button\"><FontAwesomeIcon icon={faPlus} /></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Cooldown:</td>\r\n              <td className=\"fsz\">\r\n                <button onClick={resetCooldown} disabled={state.cooldown === 0} className=\"button blue\">Reset</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div className=\"buttons fsz\">\r\n        <button onClick={() => dispatch(popPopup())} className=\"button red\">Cancel</button>\r\n        <button onClick={applyChanges} disabled={!validateAll()} className=\"button red\">Apply</button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const PopupSetupWheel = connect((state) => {\r\n  let newProps = {\r\n    wheel: state.userInfo.wheel,\r\n  }\r\n  return newProps;\r\n})((props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let workingInfo = props.wheel;\r\n  const [state, setState] = useState(workingInfo);\r\n\r\n  function toggleOwned(e) {\r\n    let newValue = !state.owned;\r\n    setState((previousState) => update(previousState, {\r\n      owned: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function toggleNotify(e) {\r\n    let newValue = !state.notify_while_paused;\r\n    setState((previousState) => update(previousState, {\r\n      notify_while_paused: {$set: newValue}\r\n    }));\r\n  }\r\n\r\n  function resetCooldown(e) {\r\n    setState((previousState) => update(previousState, {\r\n      timestamp: {$set: 0}\r\n    }));\r\n  }\r\n\r\n  function applyChanges(e) {\r\n    dispatch(setRootObject({ key: \"wheel\", value: state }));\r\n    dispatch(popPopup());\r\n  }\r\n\r\n  return (\r\n    <div id=\"wheelSetupGUI\" className=\"setupGUI wheel\">\r\n    <div className=\"heading\">\r\n      <h1>Lucky Wheel Setup</h1>\r\n    </div>\r\n    <div className=\"main\">\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td>Display:</td>\r\n            <td className=\"onechoice fsz\">\r\n              <button onClick={toggleOwned} disabled={state.owned} className=\"button green\">Yes</button>\r\n              <button onClick={toggleOwned} disabled={!state.owned} className=\"button red\">No</button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Notify:</td>\r\n            <td className=\"onechoice fsz\">\r\n              <button onClick={toggleNotify} disabled={state.notify_while_paused} className=\"button green\">Always</button>\r\n              <button onClick={toggleNotify} disabled={!state.notify_while_paused} className=\"button orange\">Only while running</button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Cooldown:</td>\r\n            <td className=\"fsz\">\r\n              <button onClick={resetCooldown} disabled={state.timestamp === 0} className=\"button blue\">Reset</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <div className=\"buttons fsz\">\r\n      <button onClick={() => dispatch(popPopup())} className=\"button red\">Cancel</button>\r\n      <button onClick={applyChanges} className=\"button red\">Apply</button>\r\n    </div>\r\n  </div>\r\n  );\r\n});\r\n\r\nconst stringElementMap = {\r\n  PopupPushDenied,\r\n  PopupMultipleTabs,\r\n  PopupNewUser,\r\n  PopupUpdateAvailable,\r\n  PopupPatchnotes,\r\n  PopupNewWeek,\r\n  PopupPaused,\r\n  PopupSetupMain,\r\n  PopupResetEverything,\r\n  PopupModifyNightclub,\r\n  PopupSetupBunker,\r\n  PopupSetupMCBusiness,\r\n  PopupSetupNightclub,\r\n  PopupSetupImportExport,\r\n  PopupSetupWheel,\r\n}\r\n\r\nfunction createPopup(arr) {\r\n  // Array has string name and object properties\r\n  return React.createElement(stringElementMap[arr[0]], arr[1]);\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let banner = state.session.banner[0];\r\n  let newProps = {\r\n    popupStack: state.popupStack,\r\n    banner: banner,\r\n  }\r\n  return newProps;\r\n}\r\n\r\nconst Popup = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let fragment = null;\r\n  let style = null;\r\n\r\n  // Hide setup dialog when setting location to preserve state\r\n  if (props.banner === \"BannerSelectLocation\" || props.banner === \"BannerCustomLocation\") {\r\n    style = { display: \"none\" };\r\n  }\r\n\r\n  // Reset location setter if popup changes\r\n  const previousPopup = props.popupStack.length > 0 ? props.popupStack[props.popupStack.length - 1] : null;\r\n  const previousRef = useRef(previousPopup);\r\n  useEffect(() => {\r\n    if (props.popupStack.length === 0 || previousRef.current !== props.popupStack[props.popupStack.length - 1]) {\r\n      dispatch(resetLocationSetter());\r\n    }\r\n  }, [dispatch, props.popupStack]);\r\n\r\n  if (props.popupStack.length > 0) {\r\n    fragment = (\r\n      <React.Fragment>\r\n        <div id=\"overlay\" style={style}></div>\r\n        <div id=\"notification\" style={style}>\r\n          {createPopup(props.popupStack[props.popupStack.length - 1])}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  return fragment;\r\n}\r\n\r\nexport default connect(mapStateToProps)(Popup);","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport {\r\n    pushPopup,\r\n    clearStack,\r\n} from './redux/popupSlice.js';\r\nimport {\r\n  toggleNotifications,\r\n} from './redux/userInfoSlice.js';\r\nimport {\r\n  toggleRunning,\r\n  setBanner,\r\n} from './redux/sessionSlice.js';\r\n\r\nimport MapIcon from './MapIcon';\r\nimport MapGhostIcon, { MapPlaceableIcon } from './MapGhostIcon';\r\nimport BannerNotification from './BannerNotification';\r\nimport Popup from './Popup';\r\nimport { staticInfo } from './InfoContext';\r\nimport { useWindowDimensions } from './Utility';\r\nimport { setFirstTickTime } from './tick';\r\nimport mapImage512 from './img/bg-512.jpg';\r\nimport mapImage1024 from './img/bg-1024.jpg';\r\nimport mapImage2048 from './img/bg-2048.jpg';\r\nimport { setCoordinates } from './redux/locationSlice.js';\r\n\r\nexport const MapSetLocation = connect((state) => {\r\n  let newProps = {\r\n    business: state.location.business,\r\n    mode: state.location.mode,\r\n  }\r\n  return newProps;\r\n})((props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // For custom\r\n  const container = document.getElementById(\"bg\");\r\n\r\n  const [state, setState] = useState([null, null]);\r\n  const [placing, setPlacing] = useState(true);\r\n  const [limits, setLimits] = useState({\r\n    top: 18,\r\n    left: 18,\r\n    bottom: container.offsetHeight - 18,\r\n    right: container.offsetWidth - 18,\r\n  });\r\n\r\n  // So window resizing is taken into account\r\n  const { width } = useWindowDimensions();\r\n  useEffect(() => {\r\n    setLimits({\r\n      top: 18,\r\n      left: 18,\r\n      bottom: container.offsetHeight - 18,\r\n      right: container.offsetWidth - 18,\r\n    })\r\n  }, [width, container]);\r\n\r\n  // Ensure position unset when changing modes\r\n  useEffect(() => {\r\n    dispatch(setCoordinates([null, null]));\r\n    setState([null, null]);\r\n    setPlacing(true);\r\n  }, [dispatch, props.mode]);\r\n  \r\n  useEffect(() => {\r\n    if (props.mode === 1 && !placing) {\r\n      // Unset position, user wants to place again\r\n      const togglePlacing = (e) => {\r\n        dispatch(setCoordinates([null, null]));\r\n        setPlacing(!placing);\r\n      }\r\n      const placeIcon = document.getElementById(\"icon-placing\");\r\n      placeIcon.addEventListener(\"click\", togglePlacing);\r\n\r\n      return () => {\r\n        placeIcon.removeEventListener(\"click\", togglePlacing);\r\n      }\r\n    }\r\n    else if (props.mode === 1) {\r\n      const getPosition = (e) => {\r\n        let xAllowed = e.clientX > limits.left && e.clientX < limits.right;\r\n        let yAllowed = e.clientY > limits.top && e.clientY < limits.bottom;\r\n        if (xAllowed && yAllowed) {\r\n          let xPos = e.clientX/container.offsetWidth * 100;\r\n          let yPos = e.clientY/container.offsetHeight * 100;\r\n          return [xPos, yPos];\r\n        }\r\n        return null;\r\n      }\r\n\r\n      const updatePosition = (e) => {\r\n        let position = getPosition(e);\r\n        if (position != null) {\r\n          setState(position);\r\n        }\r\n      }\r\n\r\n      const togglePlacing = (e) => {\r\n        let position = getPosition(e);\r\n        if (position != null) {\r\n          dispatch(setCoordinates(position));\r\n          setPlacing(!placing);\r\n        }\r\n      }\r\n\r\n      document.body.addEventListener(\"mousemove\", updatePosition);\r\n      container.addEventListener(\"click\", togglePlacing);\r\n\r\n      return () => {\r\n        document.body.removeEventListener(\"mousemove\", updatePosition);\r\n        container.removeEventListener(\"click\", togglePlacing);\r\n      }\r\n    }\r\n  }, [dispatch, container, props.mode, placing, limits]);\r\n\r\n  // Select\r\n  if (props.mode === 0) {\r\n    let locations = staticInfo[props.business].locations;\r\n    let iconArray = [];\r\n\r\n    for (let i = 0; i < locations.length; i++) {\r\n      iconArray.push(<MapGhostIcon business={props.business} index={i} key={i} />)\r\n    }\r\n    return iconArray;\r\n  }\r\n  // Custom\r\n  else {\r\n    return <MapPlaceableIcon business={props.business} x={state[0]} y={state[1]} clickable={!placing} />;\r\n  }\r\n  \r\n});\r\n\r\nexport const MapRegular = React.memo(() => {\r\n  return (\r\n    <React.Fragment>\r\n      <MapIcon business=\"bunker\" />\r\n      <MapIcon business=\"coke\" />\r\n      <MapIcon business=\"meth\" />\r\n      <MapIcon business=\"cash\" />\r\n      <MapIcon business=\"weed\" />\r\n      <MapIcon business=\"forgery\" />\r\n      <MapIcon business=\"nightclub\" />\r\n      <MapIcon business=\"importExport\" />\r\n      <MapIcon business=\"wheel\" />\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  let newProps = {\r\n    banner: state.session.banner,\r\n    audioEnabled: state.userInfo.settings.audio.enabled,\r\n    running: state.session.running,\r\n  }\r\n  return newProps;\r\n}\r\n\r\nconst Map = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const {width} = useWindowDimensions();\r\n\r\n  let mapDetails;\r\n  let optionsSection = null;\r\n  if (props.banner[0] == null || props.banner[0] === \"BannerPaused\") {\r\n    mapDetails = <MapRegular />;\r\n\r\n    function handleRunning() {\r\n      if (props.running) {\r\n        dispatch(clearStack());\r\n        dispatch(pushPopup(\"PopupPaused\"));\r\n        dispatch(setBanner(\"BannerPaused\"));\r\n      }\r\n      else {\r\n        dispatch(setBanner(null));\r\n      }\r\n      setFirstTickTime();\r\n      dispatch(toggleRunning());\r\n    }\r\n\r\n    function showSetupMain() {\r\n      dispatch(pushPopup(\"PopupSetupMain\"));\r\n    }\r\n\r\n    let toggleButton;\r\n    if (!props.running) {\r\n      toggleButton = <button onClick={handleRunning} className=\"button toggle green\">Start</button>;\r\n    }\r\n    else {\r\n      toggleButton = <button onClick={handleRunning} className=\"button toggle blue\">Pause</button>;\r\n    }\r\n\r\n    optionsSection = (\r\n      <div id=\"options\" className=\"fsz\">\r\n        {toggleButton}\r\n        <button onClick={() => dispatch(toggleNotifications())} className={\"button audio red\" + (!props.audioEnabled ? \" off\" : \"\")}>Sound</button>\r\n        <button onClick={showSetupMain} className=\"button setup red\">Setup</button>\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    mapDetails = <MapSetLocation />;\r\n  }\r\n\r\n  let popupElement = null;\r\n  if (width > 600) {\r\n    popupElement = <Popup />;\r\n  }\r\n  \r\n  return (\r\n    <div id=\"mapscreen\">\r\n      <div id=\"map\">\r\n        <img\r\n          id=\"bg\"\r\n          src={mapImage512}\r\n          srcSet={mapImage512 + \" 512w,\" + mapImage1024 + \" 1024w,\" + mapImage2048 + \" 2048w\"}\r\n          draggable=\"false\"\r\n          alt=\"Satellite view map of San Andreas (GTA V)\"\r\n        />\r\n        {mapDetails}\r\n        <BannerNotification />\r\n        {popupElement}\r\n      </div>\r\n      {optionsSection}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(Map);\r\n","import React from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport {\r\n    setResourceValue,\r\n} from './redux/userInfoSlice.js';\r\n\r\nimport { staticInfo } from './InfoContext';\r\nimport { capitalize, formatTimeString } from './Utility';\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    let newProps = {\r\n        currentResource: state.userInfo[ownProps.business][ownProps.type],\r\n        upgrades: state.userInfo[ownProps.business].upgrades,\r\n        barStyle: state.userInfo.settings.progress_bar_style,\r\n    }\r\n    if (ownProps.business === \"nightclub\") {\r\n        newProps.storageFloors = state.userInfo.nightclub.storage_floors;\r\n    }\r\n    else if (ownProps.business === \"bunker\") {\r\n        newProps.mode = state.userInfo.bunker.mode;\r\n    }\r\n    return newProps;\r\n}\r\n\r\nconst TabProgressBarElement = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    // Nightclub product works differently to other businesses, so different calculations are used\r\n\r\n    function computePortion() {\r\n        let maxOfType;\r\n        if (props.business === \"nightclub\") {\r\n            maxOfType = staticInfo.nightclub[\"max\"+capitalize(props.type)][props.storageFloors - 1];\r\n        }\r\n        else {\r\n            const upgradeIndex = (props.upgrades.equipment ? 1 : 0) + (props.upgrades.staff ? 1 : 0);\r\n            maxOfType = staticInfo[props.business][\"max\"+capitalize(props.type)][upgradeIndex];\r\n        }\r\n        return props.currentResource/maxOfType;\r\n    }\r\n\r\n    function calculateMsRemaining() {\r\n        let portion = computePortion();\r\n        if (props.type !== \"supplies\") {\r\n            portion = 1 - portion;\r\n        }\r\n        if (props.business === \"nightclub\") {\r\n            const upgradeIndex = (props.upgrades.equipment ? 1 : 0);\r\n            return portion * staticInfo.nightclub[\"max\"+capitalize(props.type)][props.storageFloors - 1] * staticInfo.nightclub[\"accrue\"+capitalize(props.type)][upgradeIndex] * (60*1000);\r\n        }\r\n        else {\r\n            const upgradeIndex = (props.upgrades.equipment ? 1 : 0) + (props.upgrades.staff ? 1 : 0);\r\n            let factor = 1;\r\n            if (props.business === \"bunker\" && props.mode === 1 && props.type === \"supplies\") {\r\n                factor = staticInfo[\"bunker\"][\"maxResearchSupplies\"][upgradeIndex]/staticInfo[\"bunker\"][\"maxSupplies\"][upgradeIndex];\r\n            }\r\n            return portion * staticInfo[props.business][\"max\"+capitalize(props.type)][upgradeIndex] * (60*1000) * factor;\r\n        }\r\n    }\r\n\r\n    function setTypeValue(e) {\r\n        let maxOfType;\r\n        if (props.business === \"nightclub\") {\r\n            maxOfType = staticInfo.nightclub[\"max\"+capitalize(props.type)][props.storageFloors - 1];\r\n        }\r\n        else {\r\n            const upgradeIndex = (props.upgrades.equipment ? 1 : 0) + (props.upgrades.staff ? 1 : 0);\r\n            maxOfType = staticInfo[props.business][\"max\"+capitalize(props.type)][upgradeIndex];\r\n        }\r\n        let newValue = maxOfType * e.target.value/100;\r\n        let payload = {\r\n            business: [props.business],\r\n            resource: [props.type],\r\n            value: newValue,\r\n        };\r\n        dispatch(setResourceValue(payload));\r\n    }\r\n\r\n    let progressBarOverlay;\r\n    switch (props.barStyle) {\r\n        case 1:\r\n            progressBarOverlay = (\r\n                <div className=\"fivetick\">\r\n                    <div></div><div></div><div></div><div></div>\r\n                </div>\r\n            );\r\n            break;\r\n        case 2:\r\n            let percentage = Math.round(computePortion() * 100);\r\n            progressBarOverlay = <span>{percentage}%</span>;\r\n            break;\r\n        case 3:\r\n            let s;\r\n            let remainingMilliseconds = calculateMsRemaining();\r\n            if (remainingMilliseconds < 1000) {\r\n                if (props.type === \"supplies\") {\r\n                    s = \"None\";\r\n                }\r\n                else {\r\n                    s = \"Full\";\r\n                }\r\n            }\r\n            else {\r\n                s = formatTimeString(remainingMilliseconds, 2);\r\n            }\r\n            progressBarOverlay = <span>{s}</span>;\r\n            break;\r\n        default:\r\n            progressBarOverlay = null;\r\n            break;\r\n    }\r\n    \r\n    return (\r\n        <tr className={props.type + (props.barStyle > 1 ? \" big\" : \"\")}>\r\n            <td><span>{props.label}</span></td>\r\n            <td><div className=\"progress_bar\">\r\n                {progressBarOverlay}\r\n                <input onChange={setTypeValue} type=\"range\" className=\"slider\" min=\"0\" max=\"100\" value={Math.round(computePortion()*100)} />\r\n                <div className=\"bar\" style={{width: computePortion()*100 + \"%\"}}></div>\r\n            </div></td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport const TabProgressBar = connect(mapStateToProps)(TabProgressBarElement);","import React from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport {\r\n    setResourceValue,\r\n} from './redux/userInfoSlice.js';\r\nimport {\r\n    pushPopup,\r\n    clearStack,\r\n} from './redux/popupSlice';\r\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { staticInfo } from './InfoContext';\r\nimport { TabProgressBar } from './TabProgressBar';\r\nimport blank from \"./img/blank.png\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    let newProps = {\r\n        owned: state.userInfo.bunker.owned,\r\n        mode: state.userInfo.bunker.mode,\r\n        showAll: state.userInfo.bunker.show_all,\r\n        upgrades: state.userInfo.bunker.upgrades,\r\n        disableSetup: state.session.banner[0] === \"BannerSelectLocation\" || state.session.banner[0] === \"BannerCustomLocation\",\r\n    }\r\n    return newProps;\r\n}\r\n\r\nexport const TabBunker = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const upgradeIndex = (props.upgrades.equipment ? 1 : 0) + (props.upgrades.staff ? 1 : 0);\r\n\r\n    function showSetupBunker(e) {\r\n        dispatch(clearStack());\r\n        dispatch(pushPopup(\"PopupSetupBunker\"));\r\n    }\r\n\r\n    function sellAllProduct() {\r\n        let payload = {\r\n            business: \"bunker\",\r\n            resource: \"product\",\r\n            value: 0,\r\n        };\r\n        dispatch(setResourceValue(payload));\r\n    }\r\n\r\n    function buyFullSupplies() {\r\n        let maxSupplies = staticInfo.bunker.maxSupplies[upgradeIndex];\r\n        let payload = {\r\n            business: \"bunker\",\r\n            resource: \"supplies\",\r\n            value: maxSupplies,\r\n        };\r\n        dispatch(setResourceValue(payload));\r\n    }\r\n    \r\n    let content = null;\r\n    if (props.owned) {\r\n        let bars = null;\r\n        if (props.showAll) {\r\n            bars = (\r\n                <React.Fragment>\r\n                    <TabProgressBar business=\"bunker\" type=\"product\" label=\"Product\" />\r\n                    <TabProgressBar business=\"bunker\" type=\"research\" label=\"Research\" />\r\n                </React.Fragment>\r\n            );\r\n        }\r\n        else if (props.mode === 0) {\r\n            bars = <TabProgressBar business=\"bunker\" type=\"product\" label=\"Product\" />;\r\n        }\r\n        else {\r\n            bars = <TabProgressBar business=\"bunker\" type=\"research\" label=\"Research\" />;\r\n        }\r\n\r\n        content = (\r\n            <div className=\"content\">\r\n                <table>\r\n                    <tbody>\r\n                        {bars}\r\n                        <TabProgressBar business=\"bunker\" type=\"supplies\" label=\"Supplies\" />\r\n                    </tbody>\r\n                </table>\r\n                <div className=\"fsz\">\r\n                    <button onClick={buyFullSupplies} className=\"button green\">Resupply</button>\r\n                    <button onClick={sellAllProduct} className=\"button blue\">Sell</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id=\"bunker\" className=\"information\">\r\n            <div className=\"business_heading clearfix\">\r\n                <div className=\"icon_wrap\">\r\n                    <img src={blank} className=\"icons icons-info icons-bunker\" alt=\"Bunker icon\"/>\r\n                </div>\r\n                <h1>{staticInfo.bunker.shortName}</h1>\r\n                <button onClick={showSetupBunker} disabled={props.disableSetup} className=\"button setup\">\r\n                    <FontAwesomeIcon icon={faCog} />\r\n                </button>\r\n            </div>\r\n            {content}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(mapStateToProps)(TabBunker);","import React from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport {\r\n    setResourceValue,\r\n} from './redux/userInfoSlice.js';\r\nimport { \r\n    pushPopup,\r\n    clearStack,\r\n} from './redux/popupSlice.js';\r\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { staticInfo } from './InfoContext';\r\nimport { TabProgressBar } from './TabProgressBar';\r\nimport blank from \"./img/blank.png\";\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    let newProps = {\r\n        owned: state.userInfo[ownProps.business].owned,\r\n        upgrades: state.userInfo[ownProps.business].upgrades,\r\n        disableSetup: state.session.banner[0] === \"BannerSelectLocation\" || state.session.banner[0] === \"BannerCustomLocation\",\r\n    }\r\n    return newProps;\r\n}\r\n\r\nconst TabMCBusiness = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function showSetupMCBusiness(e) {\r\n        dispatch(clearStack());\r\n        dispatch(pushPopup([\"PopupSetupMCBusiness\", { business: props.business }]));\r\n    }\r\n\r\n    function sellAllProduct() {\r\n        let payload = {\r\n            business: props.business,\r\n            resource: \"product\",\r\n            value: 0,\r\n        };\r\n        dispatch(setResourceValue(payload));\r\n    }\r\n\r\n    function buyFullSupplies() {\r\n        let upgradeIndex = (props.upgrades.equipment ? 1 : 0) + (props.upgrades.staff ? 1 : 0);\r\n        let maxSupplies = staticInfo[props.business].maxSupplies[upgradeIndex];\r\n        let payload = {\r\n            business: props.business,\r\n            resource: \"supplies\",\r\n            value: maxSupplies,\r\n        };\r\n        dispatch(setResourceValue(payload));\r\n    }\r\n\r\n    let content = null;\r\n    if (props.owned) {\r\n        content = (\r\n            <div className=\"content\">\r\n                <table>\r\n                    <tbody>\r\n                        <TabProgressBar business={props.business} type=\"product\" label=\"Product\" />\r\n                        <TabProgressBar business={props.business} type=\"supplies\" label=\"Supplies\" />\r\n                    </tbody>\r\n                </table>\r\n                <div className=\"fsz\">\r\n                    <button onClick={buyFullSupplies} className=\"button green\">Resupply</button>\r\n                    <button onClick={sellAllProduct} className=\"button blue\">Sell</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id={props.business} className=\"information\">\r\n            <div className=\"business_heading clearfix\">\r\n                <div className=\"icon_wrap\">\r\n                    <img\r\n                        src={blank}\r\n                        className={\"icons icons-info icons-\" + props.business}\r\n                        alt={staticInfo[props.business].fullName + \" icon\"}\r\n                    />\r\n                </div>\r\n                <h1>{staticInfo[props.business].shortName}</h1>\r\n                <button onClick={showSetupMCBusiness} disabled={props.disableSetup} className=\"button setup\">\r\n                    <FontAwesomeIcon icon={faCog} />\r\n                </button>\r\n            </div>\r\n            {content}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(mapStateToProps)(TabMCBusiness);\r\n","import React from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport {\r\n    pushPopup,\r\n    clearStack,\r\n} from './redux/popupSlice';\r\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { staticInfo } from './InfoContext';\r\nimport { TabProgressBar } from './TabProgressBar';\r\nimport blank from \"./img/blank.png\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    let newProps = {\r\n        owned: state.userInfo.nightclub.owned,\r\n        showAll: state.userInfo.nightclub.show_all,\r\n        producing: state.userInfo.nightclub.producing,\r\n        disableSetup: state.session.banner[0] === \"BannerSelectLocation\" || state.session.banner[0] === \"BannerCustomLocation\",\r\n    }\r\n    return newProps;\r\n}\r\n\r\nexport const TabNightclub = React.memo((props) => {\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    function showSetupNightclub(e) {\r\n        dispatch(clearStack());\r\n        dispatch(pushPopup(\"PopupSetupNightclub\"));\r\n    }\r\n\r\n    function showModifyNightclub(e) {\r\n        dispatch(clearStack());\r\n        dispatch(pushPopup(\"PopupModifyNightclub\"));\r\n    }\r\n\r\n    let product_objects = {\r\n        cargo: <TabProgressBar business=\"nightclub\" type=\"cargo\" label=\"Cargo\" />,\r\n        sporting: <TabProgressBar business=\"nightclub\" type=\"sporting\" label=\"Sporting\" />,\r\n        imports: <TabProgressBar business=\"nightclub\" type=\"imports\" label=\"Imports\" />,\r\n        pharma: <TabProgressBar business=\"nightclub\" type=\"pharma\" label=\"Pharma\" />,\r\n        creation: <TabProgressBar business=\"nightclub\" type=\"creation\" label=\"Cash\" />,\r\n        organic: <TabProgressBar business=\"nightclub\" type=\"organic\" label=\"Organic\" />,\r\n        copying: <TabProgressBar business=\"nightclub\" type=\"copying\" label=\"Copying\" />,\r\n    }\r\n\r\n    let content = null;\r\n    if (props.owned) {\r\n        content = (\r\n            <div className=\"content\">\r\n                <table>\r\n                    <tbody>\r\n                        {Object.keys(product_objects).map((key) => (\r\n                            <React.Fragment key={key}>\r\n                                {(props.showAll || props.producing[key]) && product_objects[key]}\r\n                            </React.Fragment>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                <button onClick={showModifyNightclub} disabled={props.disableSetup} className=\"button purple\">Modify</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id=\"nightclub\" className=\"information\">\r\n            <div className=\"business_heading clearfix\">\r\n                <div className=\"icon_wrap\">\r\n                    <img src={blank} className=\"icons icons-info icons-nightclub\" alt={staticInfo.nightclub.fullName + \" icon\"}/>\r\n                </div>\r\n                <h1>{staticInfo.nightclub.shortName}</h1>\r\n                <button onClick={showSetupNightclub} disabled={props.disableSetup} className=\"button setup\">\r\n                    <FontAwesomeIcon icon={faCog} />\r\n                </button>\r\n            </div>\r\n            {content}\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default connect(mapStateToProps)(TabNightclub);","import React from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport {\r\n    setResourceValue,\r\n    setImportExportCooldown,\r\n} from './redux/userInfoSlice.js';\r\nimport { \r\n    pushPopup,\r\n    clearStack,\r\n} from './redux/popupSlice.js';\r\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { staticInfo } from './InfoContext';\r\nimport { formatTimeString } from './Utility';\r\nimport blank from \"./img/blank.png\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    let newProps = {\r\n        owned: state.userInfo.importExport.owned,\r\n        highendCars: state.userInfo.importExport.highend_cars,\r\n        cooldown: state.userInfo.importExport.cooldown,\r\n        disableSetup: state.session.banner[0] === \"BannerSelectLocation\" || state.session.banner[0] === \"BannerCustomLocation\",\r\n    }\r\n    return newProps;\r\n}\r\n\r\nexport const TabImportExport = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function showSetupImportExport(e) {\r\n        dispatch(clearStack());\r\n        dispatch(pushPopup(\"PopupSetupImportExport\"));\r\n    }\r\n\r\n    function sourceCar(e) {\r\n        let newCars = Math.min(props.highendCars + 1, 20);\r\n        let payload = {\r\n            business: \"importExport\",\r\n            resource: \"highend_cars\",\r\n            value: newCars,\r\n        };\r\n        dispatch(setResourceValue(payload));\r\n    }\r\n\r\n    function sellCars(e) {\r\n        let element = e.target.previousSibling;\r\n        let toSell = parseInt(element.options[element.selectedIndex].text, 10);\r\n        let newCars = Math.max(props.highendCars - toSell, 0);\r\n        let newTime = (toSell + 1) * 10 * (60 * 1000);\r\n        let payload = {\r\n            business: \"importExport\",\r\n            resource: \"highend_cars\",\r\n            value: newCars,\r\n        };\r\n        dispatch(setResourceValue(payload));\r\n        payload = newTime;\r\n        dispatch(setImportExportCooldown(payload));\r\n    }\r\n\r\n    const disableSell = props.cooldown > 0;\r\n    let sellString;\r\n    if (disableSell) {\r\n        sellString = formatTimeString(props.cooldown);\r\n    }\r\n    else {\r\n        sellString = \"Sell\";\r\n    }\r\n\r\n    let content = null;\r\n    if (props.owned) {\r\n        content = (\r\n            <div className=\"content\">\r\n                <div className=\"fsz\">\r\n                    <button onClick={sourceCar} className=\"button green\">Source ({props.highendCars})</button>\r\n                    {/* <button disabled={props.disableSetup} className=\"button purple\">View</button> */}\r\n                </div>\r\n                <div>\r\n                    <select>\r\n                        <option>1</option>\r\n                        <option>2</option>\r\n                        <option>3</option>\r\n                        <option>4</option>\r\n                    </select>\r\n                    <button onClick={sellCars} disabled={disableSell} className=\"button blue\">{sellString}</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id=\"importExport\" className=\"information\">\r\n            <div className=\"business_heading clearfix\">\r\n                <div className=\"icon_wrap\">\r\n                    <img src={blank} className=\"icons icons-info icons-importExport\" alt={staticInfo.importExport.fullName + \" icon\"}/>\r\n                </div>\r\n                <h1>{staticInfo.importExport.shortName}</h1>\r\n                <button onClick={showSetupImportExport} disabled={props.disableSetup} className=\"button setup\">\r\n                    <FontAwesomeIcon icon={faCog} />\r\n                </button>\r\n            </div>\r\n            {content}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(mapStateToProps)(TabImportExport);","import React from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport {\r\n    setWheelTimestamp,\r\n} from './redux/userInfoSlice';\r\nimport {\r\n    pushPopup,\r\n    clearStack,\r\n} from './redux/popupSlice';\r\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { staticInfo } from './InfoContext';\r\nimport { formatTimeString } from './Utility';\r\nimport blank from \"./img/blank.png\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    let newProps = {\r\n        owned: state.userInfo.wheel.owned,\r\n        timestamp: state.userInfo.wheel.timestamp,\r\n        disableSetup: state.session.banner[0] === \"BannerSelectLocation\" || state.session.banner[0] === \"BannerCustomLocation\",\r\n        updateState: null,\r\n    }\r\n    if (newProps.owned && new Date().getTime() - newProps.timestamp <= 86400000) {\r\n        // This forces an update every second\r\n        newProps.updateState = state.session.updateState;\r\n    }\r\n\r\n    return newProps;\r\n}\r\n\r\nconst TabWheel = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function showSetupWheel(e) {\r\n        dispatch(clearStack());\r\n        dispatch(pushPopup(\"PopupSetupWheel\"));\r\n    }\r\n\r\n    function spinWheel() {\r\n        let timestamp = new Date().getTime();\r\n        dispatch(setWheelTimestamp(timestamp));\r\n    }\r\n\r\n    let content = null;\r\n    if (props.owned) {\r\n        const disableSpin = (new Date().getTime() - props.timestamp <= 86400000);\r\n        let spinString;\r\n        if (disableSpin) {\r\n            let remainingMs = 86400000 - (new Date().getTime() - props.timestamp);\r\n            spinString = formatTimeString(remainingMs);\r\n        }\r\n        else {\r\n            spinString = \"Spin\";\r\n        }\r\n\r\n        content = (\r\n            <div className=\"content\">\r\n                <button onClick={spinWheel} disabled={disableSpin} className=\"button purple\">{spinString}</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id=\"wheel\" className=\"information\">\r\n            <div className=\"business_heading clearfix\">\r\n                <div className=\"icon_wrap\">\r\n                    <img src={blank} className=\"icons icons-info icons-wheel\" alt={staticInfo.wheel.fullName + \" icon\"}/>\r\n                </div>\r\n                <h1>{staticInfo.wheel.shortName}</h1>\r\n                <button onClick={showSetupWheel} disabled={props.disableSetup} className=\"button setup\">\r\n                    <FontAwesomeIcon icon={faCog} />\r\n                </button>\r\n            </div>\r\n            {content}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default connect(mapStateToProps)(TabWheel);","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { formatTimeString, mod } from './Utility';\r\nimport blank from \"./img/blank.png\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    let newProps = {\r\n        running: state.session.running,\r\n        updateState: state.session.running && state.session.updateState,\r\n    }\r\n    return newProps;\r\n}\r\n\r\nconst TabFees = (props) => {\r\n    \r\n    const [finish, setFinish] = useState(null);\r\n\r\n    // Set up reference point, interval\r\n    useEffect(() => {\r\n        if (!props.running) return;\r\n        setFinish(new Date().getTime() + 2880000);\r\n        return () => {\r\n            setFinish(null);\r\n        }\r\n    }, [props.running]);\r\n\r\n    let sessionString;\r\n    if (props.running) {\r\n        let current = new Date().getTime();\r\n        let realFinish = finish;\r\n        if (finish == null) {\r\n            // Workaround for first render after running change\r\n            realFinish = new Date().getTime() + 2880000;\r\n        }\r\n        let remainingMs = mod(realFinish - current, 2881000);\r\n        sessionString = formatTimeString(remainingMs);\r\n    }\r\n    else {\r\n        sessionString = \"Not in Session\";\r\n    }\r\n\r\n    return (\r\n        <div id=\"fees\" className=\"information\">\r\n            <div className=\"business_heading clearfix\">\r\n                <div className=\"icon_wrap\">\r\n                    <img src={blank} className=\"icons icons-info icons-fees\" alt=\"Daily Fees icon\"/>\r\n                </div>\r\n                <h1>Daily Fees</h1>\r\n            </div>\r\n            <div className=\"content\">\r\n                <button className=\"button purple\" disabled={true}>{sessionString}</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(mapStateToProps)(TabFees);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport TabBunker from './TabBunker';\r\nimport TabMCBusiness from './TabMCBusiness';\r\nimport TabNightclub from './TabNightclub';\r\nimport TabImportExport from './TabImportExport';\r\nimport TabWheel from './TabWheel';\r\nimport TabFees from './TabFees';\r\nimport { useWindowDimensions, calculateScrollbarWidth, useWidthDetector } from './Utility';\r\n\r\nconst business_objects = {\r\n  bunker: <TabBunker />,\r\n  coke: <TabMCBusiness business=\"coke\" />,\r\n  meth: <TabMCBusiness business=\"meth\" />,\r\n  cash: <TabMCBusiness business=\"cash\" />,\r\n  weed: <TabMCBusiness business=\"weed\" />,\r\n  forgery: <TabMCBusiness business=\"forgery\" />,\r\n  nightclub: <TabNightclub />,\r\n  importExport: <TabImportExport />,\r\n  wheel: <TabWheel />,\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let newProps = {\r\n    hideUnowned: state.userInfo.settings.hide_unowned,\r\n  }\r\n  for (let business of Object.keys(business_objects)) {\r\n    newProps[business] = state.userInfo[business].owned;\r\n  }\r\n  return newProps;\r\n}\r\n\r\nconst InfoTabContainer = (props) => {\r\n \r\n  let inactiveDiv = (\r\n    <div id=\"inactiveBusinesses\" className=\"business-section\">\r\n      {Object.keys(business_objects).map((key) => (\r\n        <React.Fragment key={key}>\r\n          {!props[key] && business_objects[key]}\r\n        </React.Fragment>\r\n      ))}\r\n    </div>\r\n  )\r\n\r\n  const ref = React.createRef();\r\n  const {width} = useWindowDimensions();\r\n\r\n  const accomodateScrollbar = () => {\r\n    if (ref.current == null) {\r\n      return;\r\n    }\r\n    if (width <= 600) {\r\n      ref.current.style.width = null;\r\n      return;\r\n    }\r\n    let scrollWidth = calculateScrollbarWidth(ref.current);\r\n    ref.current.style.width = 220 + scrollWidth + \"px\";\r\n  }\r\n\r\n  useWidthDetector(ref, () => {\r\n    accomodateScrollbar();\r\n  });\r\n\r\n  return (\r\n    <div id=\"infotab\" ref={ref}>\r\n      <div id=\"activeBusinesses\" className=\"business-section\">\r\n        {Object.keys(business_objects).map((key) => (\r\n          <React.Fragment key={key}>\r\n            {props[key] && business_objects[key]}\r\n          </React.Fragment>\r\n        ))}\r\n        <TabFees />\r\n      </div>\r\n      {!props.hideUnowned && inactiveDiv}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(InfoTabContainer);","import React, { useEffect } from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\n\r\nimport './html5reset.css';\r\nimport './style.css';\r\nimport Map from './Map';\r\nimport InfoTabContainer from './InfoTabContainer';\r\nimport { useWindowDimensions } from './Utility';\r\nimport Popup from './Popup';\r\nimport {\r\n  runTick,\r\n} from './redux/userInfoSlice';\r\nimport {\r\n  toggleUpdateState,\r\n} from './redux/sessionSlice';\r\nimport { pushPopup } from './redux/popupSlice';\r\n\r\nconst mapStateToProps = (state) => {\r\n  let newProps = {\r\n    appStyle: state.userInfo.settings.app_style,\r\n    running: state.session.running,\r\n    updateState: state.session.running && state.session.updateState,\r\n  }\r\n  return newProps;\r\n}\r\n\r\nconst App = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // Global update interval\r\n  useEffect(() => {\r\n    setInterval(() => {\r\n      dispatch(toggleUpdateState());\r\n    }, 1000);\r\n  }, [dispatch]);\r\n\r\n  // Multiple instance check\r\n  useEffect(() => {\r\n    localStorage.openPages = Date.now();\r\n    var onLocalStorageEvent = function(e) {\r\n      if (e.key === \"openPages\") {\r\n        // Listen if anybody else opening the same page!\r\n        localStorage.pageAvailable = Date.now();\r\n      }\r\n      if (e.key === \"pageAvailable\") {\r\n        dispatch(pushPopup(\"PopupMultipleTabs\"));\r\n      }\r\n    };\r\n    window.addEventListener('storage', onLocalStorageEvent, false);\r\n  }, [dispatch]);\r\n\r\n  // Run tick while running\r\n  useEffect(() => {\r\n    if (!props.running) return;\r\n    dispatch(runTick());\r\n  }, [dispatch, props.running, props.updateState]);\r\n\r\n  // Use fullscreen popup\r\n  const {width} = useWindowDimensions();\r\n  let popupElement = null;\r\n  let bodyElement = document.body;\r\n  if (width > 600) {\r\n    bodyElement.classList.add(\"desktop\");\r\n    bodyElement.classList.remove(\"mobile\");\r\n  }\r\n  else {\r\n    bodyElement.classList.add(\"mobile\");\r\n    bodyElement.classList.remove(\"desktop\");\r\n    popupElement = <Popup width=\"100%\" height=\"100%\" />;\r\n  }\r\n\r\n  // Apply dark mode\r\n  if (props.appStyle === 1) {\r\n    bodyElement.classList.add(\"darkMode\");\r\n  }\r\n  else {\r\n    bodyElement.classList.remove(\"darkMode\");\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Map />\r\n      <InfoTabContainer />\r\n      {popupElement}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(App);","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport userInfoReducer, { setUserInfo } from '../redux/userInfoSlice';\r\nimport popupReducer from '../redux/popupSlice';\r\nimport sessionReducer from '../redux/sessionSlice';\r\nimport locationReducer from '../redux/locationSlice';\r\n\r\nimport { defaultUserInfo, shouldUpdate, updateUserInfo } from '../InfoContext';\r\nimport {\r\n  pushPopup,\r\n  unshiftPopup,\r\n} from '../redux/popupSlice';\r\nimport { findRecentWeekly } from '../Utility';\r\n\r\nconst save = store => next => action => {\r\n  let result = next(action);\r\n  if (action.type.split(\"/\")[0] === \"userInfo\") {\r\n    let newUserInfo = store.getState().userInfo;\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(newUserInfo));\r\n  }\r\n  return result;\r\n}\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    userInfo: userInfoReducer,\r\n    popupStack: popupReducer,\r\n    session: sessionReducer,\r\n    location: locationReducer,\r\n  },\r\n  middleware: getDefaultMiddleware().concat(\r\n    save\r\n  ),\r\n});\r\n\r\n// Load userInfo, set initial popups\r\nlet userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\nlet recentWeekly = findRecentWeekly();\r\nif (userInfo == null) {\r\n  userInfo = {...defaultUserInfo};\r\n  userInfo.recentWeekly = recentWeekly.toUTCString();\r\n  store.dispatch(pushPopup(\"PopupNewUser\"));\r\n}\r\nelse {\r\n  if (shouldUpdate(userInfo)) {\r\n    userInfo = updateUserInfo(userInfo);\r\n    store.dispatch(unshiftPopup(\"PopupPatchnotes\"));\r\n  }\r\n  if (recentWeekly.toUTCString() !== userInfo.recentWeekly) {\r\n    userInfo.recentWeekly = recentWeekly.toUTCString();\r\n    store.dispatch(unshiftPopup(\"PopupNewWeek\"));\r\n  }\r\n  store.dispatch(unshiftPopup(\"PopupPaused\"));\r\n}\r\nstore.dispatch(setUserInfo(userInfo));\r\n\r\nexport default store;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport {\r\n  pushPopup\r\n} from './redux/popupSlice';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register({\r\n  onUpdate: registration => {\r\n    store.dispatch(pushPopup(\"PopupUpdateAvailable\"));\r\n    if (registration && registration.waiting) {\r\n      registration.waiting.postMessage({ type: 'SKIP_WAITING' });\r\n    }\r\n  }\r\n});\r\n"],"sourceRoot":""}